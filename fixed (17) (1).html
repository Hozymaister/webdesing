<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO & Core Meta Tags -->
  <title>Bezpečnostní agentura Brno – Ostraha majetku, Osobní ochrana, Event Security | Bravion</title>
  <meta name="description" content="Profesionální bezpečnostní agentura v Brně s působností po celé ČR. Specializujeme se na ostrahu majetku, osobní ochranu (bodyguard servis) a bezpečnostní služby na akcích. Zajistíme Vaši bezpečnost spolehlivě a diskrétně.">
  <link rel="canonical" href="https://www.bravion.cz/">
  
  <!-- LCP Preload -->
  <link rel="preload" as="image"
      href="https://images.unsplash.com/photo-1511559405634-b43d3f946ff0?q=80&w=1920&auto=format&fit=crop"
      imagesrcset="https://images.unsplash.com/photo-1511559405634-b43d3f946ff0?q=80&w=1280&auto=format&fit=crop 1280w, https://images.unsplash.com/photo-1511559405634-b43d3f946ff0?q=80&w=1920&auto=format&fit=crop 1920w"
      imagesizes="100vw" fetchpriority="high">

  <!-- Favicon & Manifest -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Open Graph / Facebook / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.bravion.cz/">
  <meta property="og:title" content="Bezpečnostní agentura Brno – Ostraha majetku, Osobní ochrana | Bravion">
  <meta property="og:description" content="Profesionální bezpečnostní služby v Brně a po celé ČR. Specializujeme se na ostrahu majetku, osobní ochranu (bodyguard) a event security.">
  <meta property="og:image" content="http://bravion.cz/wp-content/uploads/2025/09/Bravion-OG.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Bravion Security – event security, ostraha objektů a osobní ochrana">
  
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://www.bravion.cz/">
  <meta property="twitter:title" content="Bezpečnostní agentura Brno – Ostraha majetku, Osobní ochrana | Bravion">
  <meta property="twitter:description" content="Profesionální bezpečnostní služby v Brně a po celé ČR. Specializujeme se na ostrahu majetku, osobní ochranu (bodyguard) a event security.">
  <meta property="twitter:image" content="http://bravion.cz/wp-content/uploads/2025/09/Bravion-OG.png">
  <!-- Additional Open Graph and Twitter metadata -->
  <meta property="og:site_name" content="Bravion Security">
  <meta property="og:locale" content="cs_CZ">
  <meta name="twitter:site" content="@bravionsecurity">
  <meta name="twitter:creator" content="@bravionsecurity">

  <!-- Preconnect to external resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Nunito+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      /* Palette: Warm, Serious, Human */
      --brand-accent: #d4a276;
      --bg-dark: #121212;
      --bg-card: #1a1a1a;
      --text-light: #f5f5f5; 
      --text-muted: #b0b0b0;
      --border-color: rgba(212, 162, 118, 0.2); 
      --accent-glow: rgba(212, 162, 118, 0.5);

      /* Shadows */
      --shadow-dark: 0 10px 30px -15px rgba(0, 0, 0, 0.5);
      --shadow-accent-glow: 0 0 25px var(--accent-glow);

      /* Typography */
      --font-heading: 'Poppins', sans-serif;
      --font-body: 'Nunito Sans', sans-serif;
      
      /* Spacing & Radii */
      --radius: 8px;
      --section-padding: clamp(6rem, 12vw, 10rem);
    }
    
    /* --- Base & Resets --- */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      background-color: var(--bg-dark);
      color: var(--text-light);
      font-family: var(--font-body);
      line-height: 1.8;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      position: relative;
    }
    .visually-hidden {
      position: absolute !important;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
    body.loading, body.modal-open {
      overflow: hidden;
    }
    .grid-background {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        background-image:
            linear-gradient(to right, rgba(212, 162, 118, 0.05) 1px, transparent 1px),
            linear-gradient(to bottom, rgba(212, 162, 118, 0.05) 1px, transparent 1px);
        background-size: 50px 50px;
        z-index: -2;
        animation: pan-grid 30s linear infinite;
    }
    @keyframes pan-grid {
        0% { background-position: 0 0; }
        100% { background-position: -50px -50px; }
    }

    h1, h2, h3, h4 {
      font-family: var(--font-heading);
      font-weight: 600;
      line-height: 1.3;
      text-wrap: balance;
      color: var(--text-light);
    }
    [data-animate-text] { overflow: hidden; }
    h2 .char {
      transform: translateY(0) !important;
      display: inline-block;
    }
    h1 { font-size: clamp(2.8rem, 6vw, 4.5rem); }
    h2 { font-size: clamp(2.2rem, 5vw, 3rem); }
    h3 { font-size: clamp(1.25rem, 3vw, 1.5rem); }
    p { max-width: 65ch; color: var(--text-muted); }
    .accent-text { color: var(--brand-accent); }
    .section-header { text-align: center; max-width: 700px; margin: 0 auto 5rem auto; }
    .section-header p { font-size: 1.1rem; }

    /* --- Accessibility --- */
    .skip-link {
      position: absolute;
      top: -100px;
      left: 0;
      background: var(--brand-accent);
      color: var(--bg-dark);
      padding: 1rem;
      z-index: 10001;
      transition: top 0.3s ease;
      font-weight: 700;
    }
    .skip-link:focus {
      top: 0;
    }

    /* --- Preloader --- */
    #preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: var(--bg-dark);
        z-index: 10000;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transition: opacity 0.75s ease, visibility 0.75s ease;
    }
    #preloader.hidden {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
    }
    #preloader .preloader-logo {
        width: 250px;
        max-width: 60%;
        height: auto;
        margin-bottom: 2rem;
        opacity: 0;
        animation: fadeInLogo 1s ease forwards;
    }
    #preloader .spinner {
        width: 50px;
        height: 50px;
        border: 4px solid var(--border-color);
        border-top-color: var(--brand-accent);
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes fadeInLogo { to { opacity: 1; } }
    
    /* --- Scroll Progress Bar --- */
    #scroll-progress {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background: var(--brand-accent);
        transform-origin: 0 50%;
        z-index: 9999;
        transform: scaleX(0);
    }
    
    /* --- Cursor Aura --- */
    #cursor-aura {
        position: fixed;
        width: 600px;
        height: 600px;
        background: radial-gradient(circle, var(--accent-glow) 0%, transparent 60%);
        border-radius: 50%;
        top: 0;
        left: 0;
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: -1;
        opacity: 0.1;
    }


    /* --- Buttons & Focus States --- */
    .btn {
      display: inline-block;
      padding: 0.9rem 2.2rem;
      border-radius: var(--radius);
      font-weight: 700;
      font-family: var(--font-body);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s;
      cursor: pointer;
      border: 1px solid transparent;
      text-decoration: none;
    }
    .btn:focus-visible, summary:focus-visible {
        outline: 2px solid var(--brand-accent);
        outline-offset: 2px;
    }
    .btn-accent {
      background-color: var(--brand-accent);
      color: var(--bg-dark); 
      box-shadow: var(--shadow-dark);
    }
    .btn-accent:hover {
      transform: translateY(-3px); 
      box-shadow: var(--shadow-dark), var(--shadow-accent-glow);
      background-color: #e6b991;
    }
    .btn-secondary {
      background: transparent;
      border: 1px solid var(--border-color);
      color: var(--text-light);
    }
    .btn-secondary:hover {
      background-color: var(--bg-card);
      border-color: var(--brand-accent);
      box-shadow: var(--shadow-accent-glow);
    }
    .btn--ghost {
      background: transparent;
      color: var(--brand-accent);
      border-color: rgba(212, 162, 118, 0.4);
      box-shadow: none;
    }
    .btn--ghost:hover {
      color: var(--bg-dark);
      background: rgba(212, 162, 118, 0.2);
      border-color: rgba(212, 162, 118, 0.75);
      box-shadow: var(--shadow-accent-glow);
    }

    /* --- Hero Section --- */
    #hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      padding: 5rem 1.5rem;
      color: white;
      overflow: hidden;
    }
    .hero-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
    }
    .hero-background img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    #hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at center, rgba(18,18,18,0.5) 0%, var(--bg-dark) 90%);
        z-index: -1;
    }
    .hero-content { max-width: 850px; }
    .hero-subheading {
        font-family: var(--font-heading);
        color: var(--brand-accent);
        font-weight: 600;
        letter-spacing: 0.05em;
        font-size: clamp(1rem, 3vw, 1.2rem);
    }
    .hero-claim {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin-top: 1.5rem;
        font-weight: 600;
        color: var(--text-muted);
    }
    .hero-claim span {
        border-left: 2px solid var(--border-color);
        padding-left: 1.5rem;
    }
    .hero-claim span:first-child {
        border-left: none;
        padding-left: 0;
    }
    .hero-content p {
      font-size: 1.2rem;
      margin: 1.5rem auto 2.5rem auto;
      color: var(--text-light);
      opacity: 0.9;
    }
    .hero-actions { display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; }
    .hero-contact-quick {
        margin-top: 3rem;
        display: flex;
        justify-content: center;
        gap: 2rem;
        font-weight: 600;
    }
    .hero-contact-quick a {
        color: var(--text-muted);
        text-decoration: none;
        transition: color 0.3s;
    }
    .hero-contact-quick a:hover {
        color: var(--brand-accent);
    }
    .hero-trust{display:flex;gap:1rem;justify-content:center;margin:1rem 0 0;color:var(--text-muted);flex-wrap:wrap}
    .hero-quick-form{margin-top:1.25rem}
    .quick-form{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:0.75rem;margin-top:0.75rem;max-height:600px;overflow:hidden;transition:max-height .4s ease}
    .quick-form.collapsed{max-height:0;margin-top:0}
    .quick-form label{display:flex;flex-direction:column;font-size:.9rem;gap:.35rem}
    .quick-form input,.quick-form select{background:var(--bg-card);border:1px solid var(--border-color);color:var(--text-light);padding:.7rem .9rem;border-radius:var(--radius)}
    .quick-form .hp{position:absolute;left:-9999px}
    .form-note{display:block;margin-top:.25rem;color:var(--text-muted);font-size:.85rem}


    /* --- Clients Section --- */
    #clients {
        background-color: transparent;
        padding: 4rem 0;
        border-top: 1px solid var(--border-color);
        border-bottom: 1px solid var(--border-color);
    }
    .clients-title { text-align: center; font-weight: 600; color: var(--text-muted); margin-bottom: 2rem; font-size: 1rem; text-transform: uppercase; letter-spacing: 0.1em; }
    .clients-grid { display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 3rem; }
    .client-logo {
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.75rem;
    }
    .client-logo:hover {
      transform: scale(1.1) perspective(1000px) rotateX(10deg);
    }
    .client-logo img { max-height: 60px; max-width: 150px; filter: grayscale(100%) brightness(0.7); opacity: 0.7; transition: filter 0.3s ease, opacity 0.3s ease; }
    .client-logo:hover img { filter: grayscale(0%) brightness(1); opacity: 1; }
    .client-name {
      font-size: 0.875rem;
      color: var(--text-muted);
      font-weight: 600;
    }
    .cases-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin: 2.5rem auto 0; max-width: 1100px;}
    .case{background:var(--bg-dark);border:1px solid var(--border-color);border-radius:var(--radius);padding:1.5rem; display: flex; flex-direction: column;}
    .case h4{font-size:1.2rem;margin-bottom:0.25rem; color: var(--brand-accent); line-height: 1.4;}
    .case-partner { font-size: 0.9rem; font-weight: 400; color: var(--text-muted); font-family: var(--font-body); display: block; margin-bottom: 1rem; }
    .case ul { list-style: none; padding-left: 0; margin: 0; flex-grow: 1;}
    .case li { position: relative; padding-left: 1.5rem; margin-bottom: 0.6rem; font-size: 0.95rem; color: var(--text-light); }
    .case li::before { content: '›'; position: absolute; left: 0; top: -2px; color: var(--brand-accent); font-size: 1.5rem; line-height: 1; }
    .case li strong { color: var(--brand-accent); font-weight: 700;}

    /* --- About Section --- */
    .about-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 4rem; align-items: center; }
    .about-image-wrapper { position: relative; padding: 1rem; }
    .about-image { width: 100%; height: 500px; object-fit: cover; border-radius: var(--radius); position: relative; z-index: 2; }
    .about-image-wrapper::before {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        border: 2px solid var(--border-color); border-radius: var(--radius); transform: rotate(-3deg);
        z-index: 1; transition: transform 0.4s ease;
    }
    .about-image-wrapper:hover::before { transform: rotate(0deg); }
    .about-text { position: relative; padding-left: 2.5rem; }
    .about-text::before {
        content: ''; position: absolute; left: 0; top: 0.5rem; width: 3px;
        height: calc(100% - 1rem); background-color: var(--brand-accent); border-radius: 5px;
    }
    .about-text h2 { margin-bottom: 1.5rem; }
    .about-values { list-style: none; margin-top: 2rem; }
    .about-values li { display: flex; align-items: flex-start; gap: 1rem; margin-bottom: 1.5rem; }
    .about-values svg { width: 32px; height: 32px; color: var(--brand-accent); flex-shrink: 0; margin-top: 0.25rem; }
    .about-values h3 { font-size: 1.1rem; margin-bottom: 0.25rem; }
    .about-usps{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.75rem;margin-top:2rem}
    .about-usps div{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius);padding:.8rem; text-align: center;}
    .about-usps span {font-size: 0.9rem; color: var(--text-muted);}

    /* --- Stats Section --- */
    #stats {
        background-color: var(--bg-card);
        position: relative;
        overflow: hidden;
    }
    .stats-bg-animated {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
    }
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        position: relative;
        z-index: 1;
    }
    .stat-item { text-align: center; }
    .stat-number {
        font-size: clamp(3rem, 8vw, 4rem);
        font-family: var(--font-heading);
        font-weight: 700;
        color: var(--brand-accent);
        line-height: 1;
    }
    .stat-label {
        font-size: 1rem;
        color: var(--text-muted);
    }
    
    /* --- Services Section --- */
    .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem; }
    .service-card {
        background-color: var(--bg-dark); border-radius: var(--radius); overflow: hidden;
        box-shadow: var(--shadow-dark); position: relative; color: white;
        display: flex; flex-direction: column;
        transform-style: preserve-3d;
        will-change: transform;
        transition: transform 0.4s ease;
    }
    .service-card-image-content {
        min-height: 400px;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        position: relative;
        overflow: hidden;
    }
    .service-card::after {
        content: ''; position: absolute; inset: 0; border: 2px solid transparent;
        border-radius: var(--radius); transition: border-color 0.4s ease, box-shadow 0.4s ease;
        pointer-events: none;
        box-shadow: 0 0 0 0 transparent;
    }
    .service-card:hover::after {
        border-color: var(--brand-accent);
        box-shadow: 0 0 20px var(--accent-glow);
    }
    .service-card-bg {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        object-fit: cover; z-index: 0; transition: transform 0.4s ease;
    }
    .service-card:hover .service-card-bg { transform: scale(1.05) translateZ(-50px); }
    .service-card-content {
        padding: 2rem; position: relative; z-index: 2;
        background: linear-gradient(to top, rgba(26,26,26,0.95) 20%, rgba(26,26,26,0.5), transparent);
        transition: background 0.4s ease;
        transform: translateZ(20px);
    }
    .service-card:hover .service-card-content { background: linear-gradient(to top, rgba(26,26,26,1) 40%, rgba(26,26,26,0.7), transparent); }
    .service-card-icon { width: 40px; height: 40px; color: var(--brand-accent); margin-bottom: 1rem; }
    .service-card-content h3 { margin-bottom: 0.5rem; }
    .service-card-content p {
        color: var(--text-muted); max-height: 0; opacity: 0; overflow: hidden;
        transition: max-height 0.4s ease-out, opacity 0.4s ease-out;
    }
    .service-card:hover p { max-height: 150px; opacity: 1; }
    .service-details{margin: 1.5rem 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color);}
    .service-toggle{background:transparent;border:1px solid var(--border-color);color:var(--text-light);padding:.5rem .75rem;border-radius:var(--radius);cursor:pointer; font-weight: 600;}
    .service-includes li{position:relative;padding-left:1.2rem;color:var(--text-muted); font-size: 0.9rem;}
    .service-includes li::before{content:"✓";position:absolute;left:0;color:var(--brand-accent)}
    .service-microfaq details{background:var(--bg-dark);border:1px solid var(--border-color);border-radius:var(--radius);padding:.6rem .75rem;margin-top:.4rem}
    .service-microfaq summary { cursor: pointer; font-weight: 600;}
    .service-microfaq p { font-size: 0.9rem; padding-top: 0.5rem;}


    /* --- Process Section --- */
    .process-steps {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 3rem 2rem;
        position: relative;
    }
    #process-line {
        position: absolute;
        top: 1.5rem;
        left: 0;
        width: 100%;
        height: 2px;
        z-index: 0;
        pointer-events: none;
    }
    .process-step {
        background-color: var(--bg-card); padding: 2.5rem 2rem; border-radius: var(--radius);
        text-align: center; border: 1px solid var(--border-color); position: relative;
        transition: transform 0.3s ease, border-color 0.3s ease;
    }
    .process-step.is-active {
        transform: scale(1.05);
        border-color: var(--brand-accent);
        box-shadow: var(--shadow-accent-glow);
    }
    .process-step-number {
        position: absolute; top: -1.5rem; left: 50%; transform: translateX(-50%);
        width: 3rem; height: 3rem; background-color: var(--brand-accent); color: var(--bg-dark);
        border-radius: 50%; display: flex; align-items: center; justify-content: center;
        font-family: var(--font-heading); font-size: 1.5rem; font-weight: 700;
        border: 4px solid var(--bg-dark); z-index: 1;
    }
    .process-step h3 { margin-top: 1.5rem; }
    .deliverables{list-style:none;margin-top:.75rem}
    .deliverables li{color:var(--text-muted);position:relative;padding-left:1.2rem; font-size: 0.9rem;}
    .deliverables li::before{content:"✔";position:absolute;left:0;color:var(--brand-accent)}

    /* --- Team Section --- */
    #team { background-color: var(--bg-dark); position: relative; overflow: hidden; }
    #team::before {
        content: 'BRAVION'; position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%); font-size: clamp(8rem, 20vw, 20rem);
        font-family: var(--font-heading); font-weight: 700; color: rgba(255, 255, 255, 0.02);
        z-index: 0;
    }
    .team-grid { 
        display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
        gap: 3rem; position: relative; z-index: 1; justify-content: center; max-width: 900px; margin-left: auto; margin-right: auto;
    }
    .team-member { text-align: center; position: relative; cursor: pointer; }
    .team-member-img-wrapper { 
      position: relative; max-width: 250px; margin: 0 auto 1.5rem auto;
      overflow: hidden; border-radius: 50%;
    }
    .team-member-img-wrapper::before {
        content: '';
        position: absolute;
        top: -4px; left: -4px;
        width: calc(100% + 8px); height: calc(100% + 8px);
        border: 2px solid var(--brand-accent);
        border-radius: 50%;
        opacity: 0;
        transform: scale(0.9);
        transition: opacity 0.4s ease, transform 0.4s ease;
    }
    .team-member:hover .team-member-img-wrapper::before {
        opacity: 1;
        transform: scale(1);
    }
    .team-member img { 
        width: 100%; aspect-ratio: 1/1; object-fit: cover; 
        border: 4px solid var(--border-color); border-radius: 50%;
        transition: transform 0.4s ease, filter 0.4s ease;
    }
    .voksova-img {
        object-position: center 20%;
    }
    .team-member-overlay {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      background-color: rgba(18,18,18, 0.7);
      color: white; font-weight: 600;
      opacity: 0; transition: opacity 0.4s ease;
      padding: 1rem;
    }
    .team-member-overlay span { font-size: 1.1rem; }
    .team-member-overlay .plus-icon { font-size: 2rem; margin-top: 0.5rem; }

    .team-member:hover img {
      transform: scale(1.1);
      filter: brightness(0.7);
    }
    .team-member:hover .team-member-overlay {
      opacity: 1;
    }
    .team-member h3 { font-size: 1.2rem; }
    .team-member p { font-size: 1rem; color: var(--brand-accent); }

    /* --- Team Modal --- */
    #team-modal-overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: rgba(0,0,0,0.8);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        z-index: 9990;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease, visibility 0.4s ease;
    }
    #team-modal-overlay.visible {
        opacity: 1;
        visibility: visible;
    }
    #team-modal-content {
        background-color: var(--bg-card);
        border: 1px solid var(--border-color);
        border-radius: var(--radius);
        max-width: 800px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        padding: 2rem;
        position: relative;
        transform: scale(0.9);
        transition: transform 0.4s ease;
    }
    #team-modal-overlay.visible #team-modal-content {
        transform: scale(1);
    }
    #team-modal-close {
        position: absolute;
        top: 1rem; right: 1rem;
        background: none;
        border: none;
        color: var(--text-light);
        font-size: 2rem;
        cursor: pointer;
        line-height: 1;
    }
    .modal-grid {
        display: grid;
        grid-template-columns: 250px 1fr;
        gap: 2rem;
    }
    #modal-img {
        width: 100%;
        height: 250px;
        object-fit: cover;
        border-radius: var(--radius);
    }
    #modal-name { margin-bottom: 0.25rem; }
    #modal-role { color: var(--brand-accent); font-weight: 600; margin-bottom: 1.5rem; }
    #modal-bio { margin-bottom: 1.5rem; }
    #modal-motto {
        font-style: italic;
        padding-left: 1.5rem;
        border-left: 3px solid var(--brand-accent);
        color: var(--text-light);
    }
    @media (max-width: 768px) {
        .modal-grid { grid-template-columns: 1fr; }
        #modal-img { height: 300px; }
    }

    /* --- Gallery Section --- */
    #gallery { background-color: var(--bg-dark); }
    .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1.5rem;
    }
    .gallery-item {
        overflow: hidden;
        border-radius: var(--radius);
        position: relative;
        cursor: pointer;
        aspect-ratio: 3 / 4;
    }
    .gallery-item::after {
        content: 'Zobrazit';
        position: absolute;
        inset: 0;
        background-color: rgba(18, 18, 18, 0.7);
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: var(--font-heading);
        font-size: 1.2rem;
        opacity: 0;
        transition: opacity 0.4s ease;
    }
    .gallery-item:hover::after {
        opacity: 1;
    }
    .gallery-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.4s ease;
    }
    .gallery-item:hover img {
        transform: scale(1.05);
    }
    
    /* Lightbox styles */
    .lightbox {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.9);
        z-index: 10000;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease, visibility 0.4s ease;
    }
    .lightbox.visible {
        opacity: 1;
        visibility: visible;
    }
    .lightbox img {
        max-width: 90vw;
        max-height: 90vh;
        transform: scale(0.9);
        transition: transform 0.4s ease;
    }
    .lightbox.visible img {
        transform: scale(1);
    }
    .lightbox-close {
        position: absolute;
        top: 2rem;
        right: 2rem;
        font-size: 3rem;
        color: white;
        cursor: pointer;
        background: none;
        border: none;
    }


    /* --- Testimonials Section --- */
    #testimonials { background-color: var(--bg-card); }
    .testimonials-grid { 
        display: grid; 
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
        gap: 2rem; 
        justify-content: center;
    }
    .testimonial-card {
        background-color: var(--bg-dark); padding: 2.5rem; border-radius: var(--radius);
        border-left: 4px solid var(--brand-accent); position: relative;
    }
    .testimonial-card::before {
        content: '“'; position: absolute; top: -0.5rem; left: 1rem; font-size: 6rem;
        font-family: var(--font-heading); color: rgba(212, 162, 118, 0.1); z-index: 1; line-height: 1;
    }
    .testimonial-text { font-size: 1.1rem; line-height: 1.7; margin-bottom: 2rem; position: relative; z-index: 2; color: var(--text-light); }
    .testimonial-author { position: relative; z-index: 2; }
    .testimonial-author h4 { color: var(--text-light); font-size: 1.1rem; }
    .testimonial-author span { color: var(--brand-accent); font-size: 0.9rem; }
    .stars{letter-spacing:.1rem;color:var(--brand-accent);margin-bottom:.5rem}

    
    /* --- Estimator Section --- */
    #calculator {
      position: relative;
      background-color: var(--bg-dark);
      padding: clamp(3.5rem, 6vw, 6.5rem) 0;
      overflow: hidden;
    }
    #calculator .container {
      position: relative;
      z-index: 1;
    }
    .estimator-aurora {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }
    .estimator-aurora__shape {
      position: absolute;
      border-radius: 50%;
      filter: blur(120px);
      opacity: 0.18;
      transform: translate(-30%, -20%);
      animation: estimatorAurora 22s ease-in-out infinite alternate;
    }
    .estimator-aurora__shape--one {
      width: 480px;
      height: 480px;
      background: var(--brand-accent);
      top: 5%;
      left: 10%;
    }
    .estimator-aurora__shape--two {
      width: 420px;
      height: 420px;
      background: #6c4dd7;
      bottom: 0;
      right: 5%;
      animation-direction: alternate-reverse;
    }
    @keyframes estimatorAurora {
      from {
        transform: translate(-30%, -20%) scale(0.95);
      }
      to {
        transform: translate(15%, 10%) scale(1.1);
      }
    }
    .estimator-stage {
      --estimator-context-bg: none;
      display: flex;
      flex-direction: column;
      gap: clamp(1.4rem, 3vw, 2rem);
      background:
        radial-gradient(140% 120% at 0% 0%, rgba(255, 194, 140, 0.1), transparent 55%),
        linear-gradient(135deg, #1b120b 0%, #090705 70%);
      border: 1px solid rgba(245, 196, 144, 0.18);
      border-radius: 22px;
      box-shadow: 0 30px 70px -40px rgba(0, 0, 0, 0.85);
      padding: clamp(1.5rem, 4vw, 2.25rem);
      position: relative;
      overflow: hidden;
      max-width: min(100%, 920px);
      margin: 0 auto;
    }
    .estimator-stage::before,
    .estimator-stage::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      pointer-events: none;
      z-index: 0;
    }
    .estimator-stage::before {
      background: linear-gradient(150deg, rgba(253, 222, 182, 0.12), transparent 58%);
      opacity: 0.85;
    }
    .estimator-stage::after {
      background-image: var(--estimator-context-bg);
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 0.4s ease;
      filter: blur(3px);
    }
    .estimator-stage.has-context::after {
      opacity: 0.08;
    }
    .estimator-sidebar,
    .estimator-main {
      position: relative;
      z-index: 1;
    }
    .estimator-sidebar {
      display: grid;
      gap: 1rem;
    }
    .estimator-sidebar .sidebar-header h3 {
      font-family: var(--font-heading);
      font-size: 1.35rem;
      color: var(--text-light);
      margin-bottom: 0.35rem;
    }
    .estimator-sidebar .sidebar-header p {
      color: var(--text-muted);
      font-size: 0.95rem;
      margin: 0;
    }
    .service-nav {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: minmax(170px, 1fr);
      gap: 0.75rem;
      overflow-x: auto;
      padding-bottom: 0.4rem;
      scrollbar-width: thin;
      scroll-snap-type: x proximity;
    }
    .service-nav::-webkit-scrollbar {
      height: 6px;
    }
    .service-nav::-webkit-scrollbar-thumb {
      background: rgba(255, 207, 160, 0.3);
      border-radius: 999px;
    }
    .service-nav-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.65rem 0.85rem;
      border-radius: 14px;
      border: 1px solid rgba(255, 198, 138, 0.14);
      background: rgba(18, 10, 6, 0.6);
      color: rgba(240, 222, 204, 0.75);
      font-family: var(--font-body);
      font-weight: 600;
      font-size: 0.95rem;
      text-align: left;
      cursor: pointer;
      transition: border-color 0.25s ease, color 0.25s ease, background 0.3s ease, box-shadow 0.3s ease;
      scroll-snap-align: start;
    }
    .service-nav-item svg {
      width: 26px;
      height: 26px;
      flex-shrink: 0;
      color: currentColor;
    }
    .service-nav-item:hover,
    .service-nav-item:focus-visible {
      outline: none;
      border-color: rgba(255, 198, 138, 0.4);
      color: var(--text-light);
      background: rgba(255, 198, 138, 0.12);
      box-shadow: 0 10px 25px -20px rgba(255, 201, 155, 0.55);
    }
    .service-nav-item.active {
      border-color: rgba(255, 207, 160, 0.75);
      color: #f6d4a2;
      background: linear-gradient(140deg, rgba(255, 211, 166, 0.28), rgba(36, 22, 15, 0.88));
      box-shadow: 0 16px 35px -24px rgba(255, 201, 155, 0.75);
    }
    .estimator-main {
      display: flex;
      flex-direction: column;
      gap: clamp(1.4rem, 3vw, 2.1rem);
    }
    .estimator-headline {
      display: grid;
      gap: 0.75rem;
    }
    .estimator-headline h2 {
      font-size: clamp(1.9rem, 3.5vw, 2.6rem);
      background: linear-gradient(135deg, #fdfdfd, #c9c9c9);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0;
    }
    .estimator-headline p {
      color: rgba(240, 222, 204, 0.7);
      margin: 0;
      max-width: 48ch;
    }
    .estimator-form {
      display: flex;
      flex-direction: column;
      gap: clamp(1.75rem, 3vw, 2.5rem);
    }
    .estimator-form__grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: clamp(1.25rem, 3vw, 2rem);
      align-items: start;
    }
    .estimator-panels {
      position: relative;
      min-height: 0;
    }
    .estimator-fields-group {
      display: none;
      background: rgba(22, 15, 10, 0.9);
      border: 1px solid rgba(255, 198, 138, 0.14);
      border-radius: 16px;
      padding: clamp(1.1rem, 2.6vw, 1.75rem);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.03);
      gap: 1.15rem;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      animation: estimatorFade 0.45s ease both;
    }
    .estimator-fields-group.active {
      display: grid;
    }
    @keyframes estimatorFade {
      from {
        opacity: 0;
        transform: translateY(16px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .calculator-heading {
      grid-column: 1 / -1;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      font-family: var(--font-heading);
      font-size: 1.4rem;
      color: var(--text-light);
    }
    .estimator-fields-group label {
      display: flex;
      flex-direction: column;
      gap: 0.45rem;
      font-size: 0.9rem;
      color: rgba(240, 222, 204, 0.75);
    }
    .estimator-fields-group input,
    .estimator-fields-group select {
      background: rgba(13, 9, 6, 0.85);
      border: 1px solid rgba(255, 198, 138, 0.2);
      color: var(--text-light);
      border-radius: 12px;
      padding: 0.65rem 0.85rem;
      font-family: var(--font-body);
      transition: border-color 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
    }
    .estimator-fields-group input:focus,
    .estimator-fields-group select:focus {
      outline: none;
      border-color: rgba(255, 210, 160, 0.8);
      box-shadow: 0 0 0 3px rgba(255, 210, 160, 0.25);
      background: rgba(22, 14, 9, 0.95);
      color: var(--text-light);
    }
    .toggle-control {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.85rem;
      background: rgba(255, 255, 255, 0.04);
      border-radius: 14px;
      border: 1px solid rgba(255, 198, 138, 0.12);
      padding: 0.7rem 1rem;
      color: rgba(240, 222, 204, 0.78);
      font-size: 0.9rem;
      flex-wrap: wrap;
      cursor: pointer;
    }
    .toggle-control__label {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      flex: 1 1 auto;
      min-width: 0;
    }
    .toggle-control input[type='checkbox'] {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      pointer-events: none;
    }
    .toggle-control__switch {
      position: relative;
      flex-shrink: 0;
      width: 46px;
      height: 24px;
      border-radius: 999px;
      background: rgba(255, 198, 138, 0.22);
      box-shadow: inset 0 0 0 1px rgba(255, 198, 138, 0.35);
      transition: background 0.3s ease, box-shadow 0.3s ease;
      margin-left: auto;
    }
    .toggle-control__switch::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 4px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--text-light);
      transform: translate(0, -50%);
      transition: transform 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.35);
    }
    .toggle-control input[type='checkbox']:checked + .toggle-control__switch {
      background: linear-gradient(135deg, rgba(255, 211, 166, 0.85), rgba(212, 162, 118, 0.9));
      box-shadow: 0 6px 16px -8px rgba(255, 201, 155, 0.7);
    }
    .toggle-control input[type='checkbox']:checked + .toggle-control__switch::after {
      transform: translate(20px, -50%);
    }
    .toggle-control input[type='checkbox']:focus-visible + .toggle-control__switch {
      box-shadow: 0 0 0 3px rgba(255, 210, 160, 0.4);
    }
    .info-small-icon,
    .info-icon-wrapper {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--brand-accent);
      border: 1px solid rgba(212, 162, 118, 0.7);
      margin-left: 0.4rem;
      cursor: pointer;
      color: transparent;
      font-size: 0;
      flex-shrink: 0;
    }
    .info-small-icon::before,
    .info-icon-wrapper::before {
      content: 'i';
      font-family: var(--font-heading);
      font-weight: 700;
      font-size: 0.78rem;
      color: var(--bg-dark);
      line-height: 1;
    }
    .info-icon-wrapper {
      width: 28px;
      height: 28px;
    }
    .info-icon-wrapper::before {
      font-size: 0.88rem;
    }

    #calculator .info-small-popover,
    #calculator .info-icon-popover {
      position: absolute;
      top: calc(100% + 8px);
      left: 0;
      max-width: min(320px, 70vw);
      background: rgba(10, 10, 10, 0.92);
      border: 1px solid rgba(212, 162, 118, 0.25);
      border-radius: 14px;
      padding: 1rem 1.35rem;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55);
      opacity: 0;
      visibility: hidden;
      transform: translateY(10px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      z-index: 10;
    }
    #calculator .info-small-popover.visible,
    #calculator .info-icon-popover.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    #calculator .info-icon-popover .close-popover,
    #calculator .info-small-popover .close-popover {
      position: absolute;
      top: 6px;
      right: 8px;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.1rem;
      cursor: pointer;
    }
    .summary-card {
      background: rgba(17, 10, 6, 0.85);
      border-radius: 18px;
      border: 1px solid rgba(255, 198, 138, 0.22);
      padding: clamp(1.1rem, 2.5vw, 1.8rem);
      display: grid;
      gap: 1.25rem;
      position: sticky;
      top: clamp(1.2rem, 5vw, 2rem);
    }
    .summary-card header {
      display: grid;
      gap: 0.75rem;
    }
    .summary-icon {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 198, 138, 0.2);
      color: var(--brand-accent);
      box-shadow: inset 0 0 0 1px rgba(255, 198, 138, 0.3), 0 12px 26px rgba(255, 198, 138, 0.18);
    }
    .summary-icon svg {
      width: 28px;
      height: 28px;
      stroke: currentColor;
    }
    .summary-card h3 {
      margin: 0;
      font-size: 1.35rem;
    }
    .summary-card p {
      margin: 0;
      color: rgba(240, 222, 204, 0.72);
      font-size: 0.9rem;
    }
    .summary-metrics {
      display: grid;
      gap: 1.1rem;
    }
    .summary-metric {
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      border-bottom: 1px dashed rgba(255, 198, 138, 0.2);
      padding-bottom: 0.65rem;
    }
    .summary-metric:last-of-type {
      border-bottom: none;
      padding-bottom: 0;
    }
    .summary-metric dt {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: rgba(255, 238, 220, 0.6);
    }
    .summary-metric dd {
      margin: 0;
      font-weight: 600;
      color: var(--text-light);
      font-size: 1.02rem;
    }
    .summary-coverage {
      margin: 0;
      font-size: 0.9rem;
      color: rgba(240, 222, 204, 0.68);
      line-height: 1.5;
    }
    .summary-divider {
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(212, 162, 118, 0.45), transparent);
    }
    .summary-tips {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      gap: 0.75rem;
    }
    .summary-tips li {
      position: relative;
      padding-left: 1.3rem;
      color: rgba(240, 222, 204, 0.68);
      line-height: 1.6;
    }
    .summary-tips li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0.5rem;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--brand-accent);
      box-shadow: 0 0 0 3px rgba(255, 198, 138, 0.25);
    }
    .summary-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      align-items: center;
    }
    .summary-reset {
      background: transparent;
      border: 1px solid rgba(255, 198, 138, 0.38);
      color: var(--text-light);
      border-radius: 999px;
      padding: 0.55rem 1.3rem;
      font-size: 0.78rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      cursor: pointer;
      transition: border-color 0.3s ease, background 0.3s ease;
    }
    .summary-reset:hover,
    .summary-reset:focus-visible {
      outline: none;
      border-color: rgba(255, 198, 138, 0.65);
      background: rgba(255, 198, 138, 0.12);
    }
    .summary-footnote {
      font-size: 0.74rem;
      color: rgba(220, 205, 188, 0.85);
      line-height: 1.6;
    }
    .estimator-output {
      background: linear-gradient(140deg, rgba(32, 22, 16, 0.92), rgba(17, 10, 6, 0.92));
      border: 1px solid rgba(255, 198, 138, 0.18);
      border-radius: 18px;
      padding: clamp(1.35rem, 3vw, 2rem);
      display: grid;
      gap: 1rem;
      color: var(--text-light);
      text-align: left;
      position: relative;
      overflow: hidden;
    }
    .estimator-output::before {
      content: '';
      position: absolute;
      inset: -35% 35% 35% -35%;
      background: radial-gradient(circle at top, rgba(255, 198, 138, 0.25), transparent 65%);
      opacity: 0.55;
      pointer-events: none;
    }
    .estimator-output .output-header {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      z-index: 1;
    }
    .estimator-output h4 {
      margin: 0;
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: rgba(255, 232, 210, 0.75);
    }
    .estimator-output .output-headline {
      margin: 0;
      font-family: var(--font-heading);
      font-size: clamp(1.4rem, 3vw, 2rem);
      color: #f6d4a2;
      z-index: 1;
    }
    .output-metrics {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.75rem;
      z-index: 1;
    }
    .output-metrics li {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      padding: 0.75rem 0.9rem;
      border-radius: 12px;
      background: rgba(12, 7, 4, 0.6);
      border: 1px solid rgba(255, 198, 138, 0.16);
    }
    .output-metrics span {
      font-size: 0.75rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: rgba(255, 232, 210, 0.65);
    }
    .output-metrics strong {
      font-size: 1.05rem;
      color: var(--text-light);
      font-weight: 600;
    }
    .estimator-output .output-coverage,
    .estimator-output .output-narrative {
      margin: 0;
      color: rgba(240, 222, 204, 0.7);
      font-size: 0.92rem;
      z-index: 1;
    }
    .estimator-output .output-error {
      color: var(--error-color);
      font-weight: 600;
      margin: 0;
    }
    #estimator-cta {
      align-self: flex-start;
      padding: 0.8rem 2.1rem;
      border-radius: 14px;
      background: linear-gradient(135deg, #f8dcb5 0%, #d09a62 100%);
      color: #2b1a0d;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      display: inline-flex;
      align-items: center;
      gap: 0.65rem;
      border: none;
      position: relative;
      overflow: hidden;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }
    #estimator-cta::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      box-shadow: 0 18px 36px rgba(240, 174, 110, 0.45);
      opacity: 0;
      transition: opacity 0.25s ease;
    }
    #estimator-cta:hover,
    #estimator-cta:focus-visible {
      outline: none;
      transform: translateY(-2px);
    }
    #estimator-cta:hover::after,
    #estimator-cta:focus-visible::after {
      opacity: 1;
    }
    #calculator .btn.btn-accent.btn--ghost {
      border-radius: 999px;
      border: 1px solid rgba(255, 198, 138, 0.4);
      padding: 0.55rem 1.5rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-light);
      background: transparent;
      transition: border-color 0.3s ease, background 0.3s ease;
    }
    #calculator .btn.btn-accent.btn--ghost:hover,
    #calculator .btn.btn-accent.btn--ghost:focus-visible {
      outline: none;
      border-color: rgba(255, 198, 138, 0.75);
      background: rgba(255, 198, 138, 0.12);
    }
    @media (min-width: 900px) {
      .estimator-sidebar {
        grid-template-columns: 1fr;
      }
      .service-nav {
        grid-auto-flow: row;
        grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
        overflow: visible;
        padding-bottom: 0;
      }
    }
    @media (min-width: 1040px) {
      .estimator-form__grid {
        grid-template-columns: minmax(0, 1.15fr) minmax(220px, 0.85fr);
      }
    }
    @media (max-width: 1039px) {
      .summary-card {
        position: static;
      }
    }
    @media (max-width: 720px) {
      .estimator-fields-group {
        grid-template-columns: 1fr;
      }
      #estimator-cta {
        width: 100%;
        justify-content: center;
      }
    }
    @media (max-width: 540px) {
      .service-nav {
        grid-auto-columns: minmax(150px, 1fr);
      }
    }

    /* --- FAQ Section --- */
    /* --- FAQ Section --- */
    #faq { background-color: var(--bg-dark); }

    .faq-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .faq-item {
      border-bottom: 1px solid var(--border-color);
    }

    /* Trigger */
    .faq-question {
      width: 100%;
      background: none;
      border: none;
      text-align: left;
      padding: 1.5rem 0;
      font-family: var(--font-heading);
      font-size: 1.2rem;
      color: var(--text-light);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: .75rem;
    }
    .faq-question .icon {
      width: 24px;
      height: 24px;
      transition: transform .3s ease;
      flex: 0 0 auto;
    }
    /* Ikona se otočí při otevření */
    .faq-question[aria-expanded="true"] .icon,
    .faq-question.active .icon {
      transform: rotate(45deg);
    }
    .faq-question:focus-visible {
      outline: 2px solid var(--brand-accent);
      outline-offset: 2px;
    }

    /* Panel */
    .faq-answer {
      /* zavřeno */
      max-height: 0;
      overflow: hidden;
      padding: 0; /* žádná mezera, ať se „nevyboulí“ */
      transition: max-height .4s ease-out, padding .2s ease-out;
      will-change: max-height;
    }

    /* otevřeno */
    .faq-answer.is-open {
      max-height: var(--faq-open-max, 600px); /* klidně zvyšte podle potřeby */
      padding: 0 0 1.5rem 0; /* mezera pod textem jen při otevření */
    }

    /* obsah uvnitř odpovědi */
    .faq-answer p {
      margin: 0; /* držíme konzistentně odsazení přes padding kontejneru */
    }

    /* Když je použit atribut hidden v JS, panel je skutečně pryč z toku */
    .faq-answer[hidden] { display: none; }


    /* --- CTA Section --- */
    #cta { background-color: var(--bg-dark); position: relative; overflow: hidden; }
    .cta-background {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        object-fit: cover; z-index: 0; filter: brightness(0.3); opacity: 0.5;
    }
    .cta-content { 
        position: relative; z-index: 1; background-color: rgba(44, 44, 44, 0.5);
        backdrop-filter: blur(5px); padding: 3rem; border: 1px solid var(--border-color);
        border-radius: var(--radius); max-width: 800px; margin: 0 auto;
    }
    #cta-form{display:grid;gap:.75rem}
    #cta-form label{display:flex;flex-direction:column;gap:.35rem}
    #cta-form input,#cta-form select{background:var(--bg-dark);border:1px solid var(--border-color);color:var(--text-light);padding:.7rem;border-radius:var(--radius)}
    .consent{font-size:.9rem;color:var(--text-muted); flex-direction: row !important; align-items: center;}
    .cta-step { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;}
    .cta-step label:first-child { grid-column: 1 / -1;}
    .cta-step--2 label { grid-column: 1 / -1;}
    .cta-step--2 .consent { grid-column: 1 / -1;}
    #cta-form .hp{position:absolute;left:-9999px}

    /* Element that displays the estimator recommendation inside the CTA form. It appears
       between the input fields when a result from the calculator is transferred. */
    #cta-estimate-display {
        grid-column: 1 / -1;
        background: var(--bg-card);
        border: 1px dashed var(--border-color);
        border-radius: var(--radius);
        padding: 0.75rem 1rem;
        color: var(--text-light);
        font-size: 0.95rem;
        margin-top: 0.5rem;
    }

    .cta-content .btn-accent {
        position: relative;
    }
    .cta-content .btn-accent::before {
        content: '';
        position: absolute; inset: -3px;
        background: var(--brand-accent);
        border-radius: var(--radius);
        z-index: -1;
        filter: blur(15px);
        opacity: 0.7;
        animation: pulse-glow 2.5s infinite ease-in-out;
    }
    @keyframes pulse-glow {
        0%, 100% { transform: scale(1); opacity: 0.7; }
        50% { transform: scale(1.05); opacity: 1; }
    }
    .cta-content p { margin: 1rem auto 2rem auto; }
    
    /* --- Sticky CTA --- */
    #sticky-cta {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        z-index: 999;
        transform: translateY(200%);
        transition: transform 0.5s ease;
    }
    #sticky-cta.visible {
        transform: translateY(0);
    }

    /* --- Form Success Modal --- */
    #form-success-overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: rgba(0,0,0,0.8);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        z-index: 9995; /* Higher than team modal */
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease, visibility 0.4s ease;
    }
    #form-success-overlay.visible {
        opacity: 1;
        visibility: visible;
    }
    #form-success-content {
        background-color: var(--bg-card);
        border: 1px solid var(--border-color);
        border-radius: var(--radius);
        max-width: 450px;
        width: 90%;
        padding: 3rem 2rem;
        position: relative;
        text-align: center;
        transform: scale(0.9);
        transition: transform 0.4s ease;
    }
    #form-success-overlay.visible #form-success-content {
        transform: scale(1);
    }
    #form-success-close {
        position: absolute;
        top: 1rem; right: 1rem;
        background: none;
        border: none;
        color: var(--text-light);
        font-size: 2rem;
        cursor: pointer;
        line-height: 1;
    }
    #form-success-content .success-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 1.5rem auto;
        color: var(--brand-accent);
    }
    #form-success-content h3 {
        margin-bottom: 0.5rem;
        font-size: 1.8rem;
    }
    #form-success-content p {
        color: var(--text-muted);
        margin: 0 auto;
    }

   
    /* --- General Layout & Helpers --- */
    .container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
    .section { padding: var(--section-padding) 0; position: relative; content-visibility: auto; contain-intrinsic-size: 800px; }
    .section-transition {
      display: block;
      width: 100%;
      height: 120px;
      margin-top: -1px;
      position: relative;
    }
    .section-transition svg {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    .collapsible { overflow: hidden; max-height: 0; transition: max-height .35s ease; }
    .collapsible.is-open { max-height: 500px; }

/* Small explanatory text under form fields */
small {
  color: var(--text-muted);
  font-size: 0.85rem;
  display: block;
  margin-top: 0.15rem;
  margin-bottom: 0.5rem;
}


    /* --- Responsive & Accessibility --- */
    @media (max-width: 991px) {
        #process-line { display: none; }
    }
    @media (max-width: 768px) {
        h1 { font-size: 2.5rem; }
        h2 { font-size: 2rem; }
        .testimonials-grid {
          grid-template-columns: 1fr;
        }
        .cta-step { grid-template-columns: 1fr;}
        [data-tilt] { transform: none !important; }
        #cursor-aura { display: none; }
    }
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition-duration:0.001ms !important; scroll-behavior:auto !important}
      #cursor-aura, .stats-bg-animated { display: none !important; }
    }
    
    /* --- Why Us --- */
    .why-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:1.25rem;
      margin-bottom:1.5rem;
    }
    .why-card{
      background:var(--bg-card);
      border:1px solid var(--border-color);
      border-radius:var(--radius);
      padding:1.25rem 1.25rem 1.1rem;
      box-shadow:var(--shadow-dark);
      transition:transform .35s ease, box-shadow .35s ease, border-color .35s ease;
    }
    .why-card:hover{
      transform:translateY(-3px);
      border-color:var(--brand-accent);
      box-shadow:var(--shadow-accent-glow), var(--shadow-dark);
    }
    .why-card h3{
      margin:.5rem 0 .35rem;
      font-size:1.1rem;
      color:var(--text-light);
    }
    .why-card p{color:var(--text-muted);font-size:.98rem}
    .why-ico{
      width:40px;height:40px;color:var(--brand-accent);
    }
    .why-ico svg{width:100%;height:100%}

    .why-badges{
      display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center;margin:1rem 0 0;
    }
    .badge{
      background:var(--bg-dark);
      border:1px solid var(--border-color);
      color:var(--text-muted);
      border-radius:999px;
      padding:.45rem .75rem;
      font-size:.9rem;
      white-space:nowrap;
    }
    .why-guarantee{
      margin:1.25rem auto 0;
      max-width:900px;
      text-align:center;
      background:var(--bg-dark);
      border:1px dashed var(--border-color);
      border-radius:var(--radius);
      padding:1rem 1.25rem;
      color:var(--text-light);
    }
    .why-guarantee strong{color:var(--brand-accent)}
    .why-cta{
      display:flex;gap:.75rem;justify-content:center;margin-top:1.25rem;flex-wrap:wrap;
    }

    /* --- Calculator Card & Info Popovers --- */
    .calculator-card {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow-dark);
      position: relative;
    }

    /* Small info icons for individual form fields */
    .info-small-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--brand-accent);
      color: var(--bg-dark);
      font-size: 0.8rem;
      margin-left: 0.35rem;
      cursor: pointer;
      position: relative;
      flex-shrink: 0;
    }

    .info-small-popover {
      position: absolute;
      top: calc(100% + 6px);
      left: 50%;
      transform: translateX(-50%) translateY(8px);
      width: 260px;
      max-width: 80vw;
      background-color: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      padding: 0.75rem 1rem;
      box-shadow: var(--shadow-dark);
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    .info-small-popover.visible {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(0);
    }

    .info-small-popover button.close-popover {
      position: absolute;
      top: 4px;
      right: 6px;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1rem;
      cursor: pointer;
    }

    /* New wrapper for large info icons (section headings) */
    .info-icon-wrapper {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--brand-accent);
      color: var(--bg-dark);
      font-size: 0.9rem;
      margin-left: 0.35rem;
      cursor: pointer;
      flex-shrink: 0;
    }

    .info-icon-wrapper .info-icon-popover {
      position: absolute;
      top: calc(100% + 6px);
      left: 0;
      width: 300px;
      max-width: 90vw;
      background-color: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      padding: 1rem 1.5rem;
      box-shadow: var(--shadow-dark);
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transform: translateY(8px);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    .info-icon-wrapper .info-icon-popover.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .info-icon-wrapper .info-icon-popover .close-popover {
      position: absolute;
      top: 4px;
      right: 6px;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1rem;
      cursor: pointer;
    }

    .calculator-heading {
      font-family: var(--font-heading);
      font-size: 1.4rem;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .info-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--brand-accent);
      color: var(--bg-dark);
      font-size: 0.9rem;
      cursor: pointer;
      position: relative;
      flex-shrink: 0;
    }

    .info-popover {
      position: absolute;
      top: 100%;
      left: 0;
      width: 300px;
      max-width: 90vw;
      background-color: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      padding: 1rem 1.5rem;
      box-shadow: var(--shadow-dark);
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transform: translateY(10px);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    .info-popover.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .info-popover button.close-popover {
      position: absolute;
      top: 6px;
      right: 8px;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.2rem;
      cursor: pointer;
    }

    /* Ensure headings span across all columns within estimator grid */
    .estimator-fields-group .calculator-heading {
      /* Span full width inside the card and separate from form fields */
      margin-bottom: 1rem;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

  </style>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/split-type@0.3.3/umd/index.min.js" defer></script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https://www.bravion.cz/#website",
      "url": "https://www.bravion.cz/",
      "name": "Bravion Security",
      "inLanguage": "cs",
      "publisher": { "@id": "https://www.bravion.cz/#org" }
    },
    {
      "@type": "WebPage",
      "@id": "https://www.bravion.cz/#webpage",
      "url": "https://www.bravion.cz/",
      "name": "Bezpečnostní agentura Brno - Ostraha majetku, Osobní ochrana, Event Security | Bravion",
      "isPartOf": { "@id": "https://www.bravion.cz/#website" },
      "primaryImageOfPage": {
        "@type": "ImageObject",
        "url": "https://bravion.cz/wp-content/uploads/2025/09/Bravion-OG.png",
        "width": 1200,
        "height": 630
      },
      "inLanguage": "cs",
      "about": { "@id": "https://www.bravion.cz/#org" }
    },
    {
      "@type": "Organization",
      "@id": "https://www.bravion.cz/#org",
      "name": "Bravion Group s.r.o.",
      "legalName": "Bravion Group s.r.o.",
      "url": "https://www.bravion.cz/",
      "logo": "https://bravion.cz/wp-content/uploads/2025/07/Bravion-Logo-500-x-500-px-512-x-512-px-800-x-800-px-512-x-512-px-800-x-500-px-3.png",
      "telephone": "+420725993462",
      "email": "info@bravion.cz",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Lidická 700/19",
        "addressLocality": "Brno",
        "postalCode": "602 00",
        "addressCountry": "CZ"
      },
      "sameAs": [
        "https://www.facebook.com/bravion",
        "https://www.linkedin.com/company/bravion"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+420725993462",
        "contactType": "customer service",
        "areaServed": "CZ",
        "availableLanguage": ["cs", "en"]
      }
    },
    {
      "@type": "LocalBusiness",
      "@id": "https://www.bravion.cz/#lb",
      "name": "Bravion Security",
      "url": "https://www.bravion.cz/",
      "image": "https://bravion.cz/wp-content/uploads/2025/07/Bravion-Logo-500-x-500-px-512-x-512-px-800-x-800-px-512-x-512-px-800-x-500-px-3.png",
      "telephone": "+420725993462",
      "priceRange": "$$$",
      "parentOrganization": { "@id": "https://www.bravion.cz/#org" },
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Lidická 700/19",
        "addressLocality": "Brno",
        "postalCode": "602 00",
        "addressCountry": "CZ"
      },
      "areaServed": "CZ",
      "openingHoursSpecification": [
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": [
            "Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"
          ],
          "opens": "00:00",
          "closes": "23:59"
        }
      ]
    },
    {
      "@type": "Service",
      "@id": "https://www.bravion.cz/#service-event-security",
      "serviceType": "Event security",
      "provider": { "@id": "https://www.bravion.cz/#org" },
      "areaServed": "CZ",
      "availableChannel": {
        "@type": "ServiceChannel",
        "serviceUrl": "https://www.bravion.cz/#cta",
        "servicePhone": { "@type": "ContactPoint", "telephone": "+420725993462" }
      }
    },
    {
      "@type": "Service",
      "@id": "https://www.bravion.cz/#service-ostraha-objektu",
      "serviceType": "Ostraha objektu a majetku",
      "provider": { "@id": "https://www.bravion.cz/#org" },
      "areaServed": "Jihomoravský kraj",
      "availableChannel": {
        "@type": "ServiceChannel",
        "serviceUrl": "https://www.bravion.cz/#cta",
        "servicePhone": { "@type": "ContactPoint", "telephone": "+420725993462" }
      }
    },
    {
      "@type": "Service",
      "@id": "https://www.bravion.cz/#service-bodyguard",
      "serviceType": "Osobní ochrana (bodyguard)",
      "provider": { "@id": "https://www.bravion.cz/#org" },
      "areaServed": "CZ",
      "availableChannel": {
        "@type": "ServiceChannel",
        "serviceUrl": "https://www.bravion.cz/#cta",
        "servicePhone": { "@type": "ContactPoint", "telephone": "+420725993462" }
      }
    },
    {
      "@type": "Service",
      "@id": "https://www.bravion.cz/#service-nocni-podniky",
      "serviceType": "Ostraha nočních podniků",
      "provider": { "@id": "https://www.bravion.cz/#org" },
      "areaServed": "CZ",
      "availableChannel": {
        "@type": "ServiceChannel",
        "serviceUrl": "https://www.bravion.cz/#cta",
        "servicePhone": { "@type": "ContactPoint", "telephone": "+420725993462" }
      }
    },
    {
      "@type": "Service",
      "@id": "https://www.bravion.cz/#service-sport",
      "serviceType": "Zabezpečení sportovních utkání",
      "provider": { "@id": "https://www.bravion.cz/#org" },
      "areaServed": "CZ",
      "availableChannel": {
        "@type": "ServiceChannel",
        "serviceUrl": "https://www.bravion.cz/#cta",
        "servicePhone": { "@type": "ContactPoint", "telephone": "+420725993462" }
      }
    },
    {
      "@type": "FAQPage",
      "@id": "https://www.bravion.cz/#faq",
      "inLanguage": "cs",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Kolik stojí ostraha akce?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Cena se odvíjí od velikosti, rizikovosti a počtu pracovníků. Připravíme vám nabídku na míru."
          }
        },
        {
          "@type": "Question",
          "name": "Jak rychle umíte nastoupit?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Obvykle do 48 hodin po potvrzení objednávky."
          }
        },
        {
          "@type": "Question",
          "name": "Máte pojištění odpovědnosti?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Ano, pojištění odpovědnosti do 5 mil. Kč."
          }
        }
      ]
    }
  ]
  }
  </script>

</head>
<body class="loading">
  <a href="#main" class="skip-link">Přeskočit na hlavní obsah</a>
  <!-- Sitemap and robots.txt will be handled by the production environment. -->
  <div id="preloader">
    <img src="https://bravion.cz/wp-content/uploads/2025/07/Bravion-Logo-500-x-500-px-512-x-512-px-800-x-800-px-512-x-512-px-800-x-500-px-3.png"
         alt="Bravion Logo" class="preloader-logo" width="250" height="250">
    <div class="spinner"></div>
  </div>
  
  <div id="scroll-progress"></div>
  <div id="cursor-aura"></div>
  <div class="grid-background" aria-hidden="true"></div>

  <main id="main">
    <!-- HERO SECTION -->
    <section id="hero">
        <div class="hero-background">
          <img id="hero-bg-img"
              src="https://bravion.cz/wp-content/uploads/2025/08/d9fd1e7a-056d-493d-bea8-af7a2165f87a-e1759008703118.jpg"
              srcset="https://bravion.cz/wp-content/uploads/2025/08/d9fd1e7a-056d-493d-bea8-af7a2165f87a-e1759008703118.jpg 1280w, https://bravion.cz/wp-content/uploads/2025/08/d9fd1e7a-056d-493d-bea8-af7a2165f87a-e1759008703118.jpg 1920w"
              sizes="100vw" width="1920" height="1280" alt="Bezpečnostní agentura Bravion v akci na velkém eventu"
              fetchpriority="high" decoding="async">
        </div>
        <div class="hero-content">
          <h1>Bezpečnostní agentura Brno a celá ČR</h1>
          <h2 class="hero-subheading">Zajišťujeme klid pro vaše akce, majetek i osobní bezpečí. S nástupem do 48 hodin po celé ČR.</h2>
          <div class="hero-claim">
            <span>Dlouholetá praxe v ochraně osob a majetku</span>
            <span>Bezpečnostní řešení pro každý typ objektu a akce</span>
          </div>
          <ul class="hero-trust"></ul>
          <div class="hero-quick-form">
            <button class="btn btn-secondary" id="quick-toggle" aria-expanded="false" aria-controls="quick-form"> Rychlá poptávka (30 s) </button>
            <form id="quick-form" data-analytics="hero_quick_quote" class="quick-form collapsed" action="https://formspree.io/f/mkgqozbw" method="POST">
              <label> Typ služby
                <select name="typ" required>
                  <option>Event security</option>
                  <option>Ostraha objektu</option>
                  <option>Osobní ochrana</option>
                  <option>Ostraha nočních podniků</option>
                </select>
              </label>
              <label> Termín
                <input type="date" name="termin" required>
              </label>
              <label> Telefon
                <input type="tel" name="telefon" inputmode="tel" autocomplete="tel" required>
              </label>
              <input type="text" name="company" class="hp" tabindex="-1" autocomplete="off" aria-hidden="true">
              <button class="btn btn-accent" type="submit">Odeslat</button>
              <small class="form-note">Na dotaz reagujeme obvykle ještě tentýž den</small>
            </form>
          </div>
          <div class="hero-contact-quick">
            <a href="tel:+420725993462">📞 +420 725 993 462</a>
            <a href="mailto:info@bravion.cz">✉️ info@bravion.cz</a>
          </div>
        </div>
    </section>

    <!-- CLIENTS SECTION -->
    <section id="clients">
        <div class="container">
            <h3 class="clients-title">Případové studie a spolupráce</h3>
            <div class="cases-grid">
              <article class="case">
                <h4>Rock for People</h4>
                <span class="case-partner">ve spolupráci s Čechymen</span>
                <ul>
                 <li>Dohled nad klíčovými zónami - vstupy, stage, zázemí, pohyb návštěvníků a kordinace vozidel.</li>
                  <li>Plánování a koordinace bezpečnostních opatření před i během akce.</li>
                  <li><strong>Výsledek:</strong> akce proběhla hladce, bez incidentů a v bezpečném prostředí.</li>
                </ul>
              </article>
              <article class="case">
                <h4>Hrady CZ (Turné)</h4>
               <span class="case-partner">ve spolupráci s Ares Group</span>
<ul>
  <li>Podíleli jsme se na zajištění bezpečnosti jednotlivých zastávek turné.</li>
  <li>Dohled nad klíčovými zónami – od vstupů po zázemí a návštěvnické prostory.</li>
  <li><strong>Výsledek:</strong> všechny zastávky festivalu proběhly hladce a bez incidentů.</li>
</ul>
</article>
                  
<article class="case">
  <h4>Masters of Rock</h4>
  <span class="case-partner">ve spolupráci s Čechymen</span>
  <ul>
    <li>Podíleli jsme se na zajištění bezpečného chodu festivalu.</li>
    <li>Dohled nad přístupovými cestami, hlavní scénou i zázemím účinkujících.</li>
    <li><strong>Výsledek:</strong> Návštěvníci i kapely si mohli užít akci bez starostí.</li>
  </ul>
</article>
            </div>
            <div class="clients-grid" style="margin-top: 3rem;">
                <div class="client-logo" data-magnetic><img src="https://scontent.fprg4-1.fna.fbcdn.net/v/t39.30808-6/277741094_398818235577444_401706843692727110_n.png?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=DbdNzdCmpT0Q7kNvwH17tBh&_nc_oc=AdlUBXG666R15QXLDly9UmS70E5378Cnd3v2UygHbeUjYEvqIcAj6wI8hh0yIWDmYPY&_nc_zt=23&_nc_ht=scontent.fprg4-1.fna&_nc_gid=8anZW4o5gUx-Kdg1B3PEwg&oh=00_AfZxBbOxEvAk7l4ILqfsrzLU41mK34vu0aq58J9oho1zig&oe=68DE50DC" alt="Logo klienta Ares Group" width="150" height="60"></div>
                <div class="client-logo" data-magnetic><img src="https://scontent.fprg4-1.fna.fbcdn.net/v/t39.30808-6/305656828_481733930630331_2534088003234222894_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=AXTtr2EJWm8Q7kNvwFb-2lg&_nc_oc=AdnVk5NB7KzPimfQPFAcbC3TMb5fUEce1oC7EnefSdbC2EXPH-DINFkBpAqU4kbgL4Y&_nc_zt=23&_nc_ht=scontent.fprg4-1.fna&_nc_gid=iSJaZctEku2NzwgGS-kWqg&oh=00_AfaeXFaV0-3zroTdNKg4OtiyEH17ZTec2tGoVTDEbOn6JQ&oe=68DE433B" alt="Logo klienta Čechymen" width="150" height="60"></div>
                <div class="client-logo" data-magnetic><img src="https://scontent.fprg4-1.fna.fbcdn.net/v/t39.30808-6/271153888_4038333066270418_6162506973992446003_n.png?_nc_cat=103&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=KdseyKV1VQ0Q7kNvwEzRJth&_nc_oc=AdnKO8Yx1jL9qt-GiRrkXscunRJenaJXtvDcavEjZkFNCmGC1x6ZWJdDn-AgswTRsZA&_nc_zt=23&_nc_ht=scontent.fprg4-1.fna&_nc_gid=Zk1YbxUQZu4U-3KsFNOvCA&oh=00_AfZdEx3-PeAhcDIJ13H-6-ZRIsv7HwgA16SaeaEBlnIDFw&oe=68DE4858" alt="Logo klienta No limit" width="150" height="60"></div>
                <div class="client-logo" data-magnetic><img src="https://cdn.myshoptet.com/usr/714187.myshoptet.com/user/logos/soft_green_typography_letter_n_logo_(453_x_276_px)_(1000_x_1000_px)_(295_x_60_px).png" alt="Logo klienta Cleanwave" width="150" height="60"></div>
                <div class="client-logo" data-magnetic><img src="https://placehold.co/150x40/f5f5f5/1a1a1a?text=Hellas" alt="Logo klienta Hellas" width="150" height="60"></div>
            </div>
        </div>
    </section>

    <!-- SECTION TRANSITION -->
    <div class="section-transition" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" style="fill: var(--bg-dark);">
            <path d="M0,0 C25,50 75,50 100,0 L100,100 L0,100 Z" opacity="0.5"></path>
            <path d="M0,10 C35,60 65,40 100,10 L100,100 L0,100 Z"></path>
        </svg>
    </div>


 <!-- ABOUT SECTION – Bravion Group -->
<section id="about" class="section bg-dark text-white">
  <div class="container about-grid">
    <div class="about-text">
      <h2 class="accent-text" data-animate-text>Bezpečnost postavená na zkušenosti</h2>
      <p>
        Zajišťujeme hlídání objektů, akcí i osob. Naší prací je udržet klid a předcházet problémům. 
        Působíme v Brně, Jihomoravském kraji a po domluvě i jinde v ČR.
      </p>

      <ul class="about-values">
        <li>
          <svg class="animated-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 9l9-6 9 6v9a3 3 0 01-3 3H6a3 3 0 01-3-3z"/></svg>
          <div>
            <h3>Spolehlivost</h3>
            <p>Dodržujeme sjednané časy, plníme dohody a vždy přesně víte, kdo a kdy službu zajišťuje.</p>
          </div>
        </li>
        <li>
          <svg class="animated-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
          <div>
            <h3>Odbornost</h3>
            <p>Členové týmu procházejí pravidelným školením. Umíme řešit konfliktní situace bez zbytečného rizika.</p>
          </div>
        </li>
        <li>
          <svg class="animated-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 22s8-4 8-10a8 8 0 10-16 0c0 6 8 10 8 10z"/></svg>
          <div>
            <h3>Pojištění 5 mil. Kč</h3>
            <p>Máme sjednané pojištění odpovědnosti, aby byl krytý i neočekávaný problém.</p>
          </div>
        </li>
      </ul>

      <div class="about-usps">
        <div><strong>Rychlý nástup</strong><br><span>bez zbytečného odkladu</span></div>
        <div><strong>Přehledná evidence</strong><br><span>detailní záznam každé směny</span></div>
        <div><strong>Stálý kontakt</strong><br><span>kdykoli víte, na koho se obrátit</span></div>
      </div>

      
    </div>

    <div class="about-image-wrapper">
      <img
        src="http://bravion.cz/wp-content/uploads/2025/05/S.Ntry500x600px500x600px3.png"
        alt="Bravion – profesionální hlídání objektů a akcí"
        loading="lazy" width="500" height="600"
        class="about-image rounded-xl shadow-xl"
      >
    </div>
  </div>
</section>

    
   <!-- WHY US -->
<section id="why-us" class="section bg-dark text-white">
  <div class="container">
    <div class="section-header">
      <h2 data-animate-text>Proč spolupracovat s Bravion</h2>
      <p>Bezpečnost bereme jako službu, ne jen hlídání. Každou zakázku řešíme osobně a s plnou odpovědností.</p>
    </div>

    <div class="why-grid">
      <article class="why-card">
        <h3>Přímý kontakt</h3>
        <p>Mluvíte rovnou s lidmi, kteří službu plánují a vedou. Žádné zdlouhavé schvalování.</p>
      </article>

      <article class="why-card">
        <h3>Jasné podmínky</h3>
        <p>Cena i rozsah práce jsou dohodnuté předem. Bez skrytých poplatků.</p>
      </article>

      <article class="why-card">
        <h3>Profesionální zajištění</h3>
        <p>Pravidelná školení, platné pojištění odpovědnosti a dodržování GDPR jsou samozřejmost.</p>
      </article>

      <article class="why-card">
        <h3>Pružné řešení</h3>
        <p>Přizpůsobíme se velikosti a povaze akce – od malých prostor až po velké veřejné události.</p>
      </article>

      <article class="why-card">
        <h3>Rychlý start spolupráce</h3>
        <p>Po dohodě dokážeme nasadit tým ve velmi krátké době, podle potřeby zakázky.</p>
      </article>

      <article class="why-card">
        <h3>Ověření partneři</h3>
        <p>Na rozsáhlejší akce spolupracujeme s předními bezpečnostními agenturami, abychom zajistili dostatek pracovníků i kvalitu.</p>
      </article>
    </div>

    <div class="why-cta">
      <a class="btn btn-accent" href="#cta">Nezávazná konzultace</a>
      <a class="btn btn-secondary" href="tel:+420725993462">Zavolat +420 725 993 462</a>
    </div>
  </div>
</section>

    
<!-- STATS SECTION -->
<section id="stats" class="section bg-dark text-white">
  <svg class="stats-bg-animated" width="100%" height="100%" aria-hidden="true"></svg>
  <div class="container">
    <div class="stats-grid">
      <div class="stat-item">
        <span class="stat-number" data-target="5">0</span>mil.
        <p class="stat-label">pojistné krytí</p>
      </div>
      <div class="stat-item">
        <span class="stat-number" data-target="10">0</span>+
        <p class="stat-label">let zkušeností v bezpečnostních službách</p>
      </div>
      <div class="stat-item">
        <span class="stat-number" data-target="60">0</span>+
        <p class="stat-label">akcí zajišťovaných během jedné letní sezóny</p>
      </div>
      <div class="stat-item">
        <span class="stat-number" data-target="90">0</span> %
        <p class="stat-label">zakázek probíhá hladce a bez mimořádných událostí</p>
      </div>
    </div>
  </div>
</section>


    <!-- SECTION TRANSITION -->
    <div class="section-transition" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" style="fill: var(--bg-card);">
            <path d="M0,100 C25,50 75,50 100,100 L100,0 L0,0 Z" opacity="0.5"></path>
            <path d="M0,90 C35,40 65,60 100,90 L100,0 L0,0 Z"></path>
        </svg>
    </div>

    <!-- SERVICES SECTION – upravená verze -->
<section id="services" class="section bg-dark text-white">
  <div class="container">
    <div class="section-header">
      <h2 data-animate-text>Naše hlavní služby</h2>
      <p>Zajistíme bezpečnost lidí, majetku i celých akcí. Každou zakázku řešíme individuálně a s plnou odpovědností.</p>
    </div>

    <div class="services-grid">
      <div class="service-card" data-tilt>
        <div class="service-card-image-content">
          <img loading="lazy" width="600" height="400" src="http://bravion.cz/wp-content/uploads/2025/08/9270db9022017edf3e8b2a8942561aea.jpeg" alt="Zajištění bezpečnosti na veřejných akcích" class="service-card-bg">
          <div class="service-card-content">
            <svg class="service-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"/></svg>
            <h3>Event security</h3>
            <p>Bezpečné zajištění koncertů, festivalů a firemních akcí v Brně i po celé ČR.</p>
          </div>
        </div>
        <div class="service-details">
          <button class="service-toggle" aria-expanded="false" aria-controls="service-includes-1">Co je součástí</button>
          <ul id="service-includes-1" class="service-includes collapsible" hidden>
            <li>Analýza rizik a plán akce</li>
            <li>Koordinátor a vyškolený tým</li>
            <li>Poakční report a fotodokumentace</li>
          </ul>
        </div>
      </div>

      <div class="service-card" data-tilt>
        <div class="service-card-image-content">
          <img loading="lazy" width="600" height="400" src="http://bravion.cz/wp-content/uploads/2025/09/bariyer-ve-otomatik-gecis-sistemleri-5.jpeg" alt="Fyzická ostraha objektů" class="service-card-bg">
          <div class="service-card-content">
            <svg class="service-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21M3 3h18M3 7.5h18M3 12h18m-4.5 9v-6.75a2.25 2.25 0 00-2.25-2.25h-1.5a2.25 2.25 0 00-2.25 2.25V21" /></svg>
            <h3>Ostraha majetku</h3>
            <p>Stálý dohled nad objekty, sklady, stavbami a dalšími prostory.</p>
          </div>
        </div>
        <div class="service-details">
          <button class="service-toggle" aria-expanded="false" aria-controls="service-includes-2">Co je součástí</button>
          <ul id="service-includes-2" class="service-includes collapsible" hidden>
            <li>Recepce a pravidelné kontroly</li>
            <li>Napojení na kamerový systém</li>
            <li>Možnost zásahové jednotky</li>
          </ul>
        </div>
      </div>

      <div class="service-card" data-tilt>
        <div class="service-card-image-content">
          <img loading="lazy" width="600" height="400" src="https://bravion.cz/wp-content/uploads/2025/05/S.Ntry500x600px8.png" alt="Diskrétní osobní ochrana" class="service-card-bg">
          <div class="service-card-content">
            <svg class="service-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
            <h3>Osobní ochrana</h3>
            <p>Diskrétní doprovod a ochrana pro jednotlivce i rodiny, včetně řidiče-bodyguarda.</p>
          </div>
        </div>
        <div class="service-details">
          <button class="service-toggle" aria-expanded="false" aria-controls="service-includes-3">Co je součástí</button>
          <ul id="service-includes-3" class="service-includes collapsible" hidden>
            <li>Vyhodnocení rizik a plán tras</li>
            <li>Doprovod a monitoring</li>
            <li>Vozidlo s řidičem-bodyguardem</li>
          </ul>
        </div>
      </div>

      <div class="service-card" data-tilt>
        <div class="service-card-image-content">
          <img loading="lazy" width="600" height="400" src="https://bravion.cz/wp-content/uploads/2025/09/stahnout-1-1-scaled-e1758999228345.png" alt="Zabezpečení sportovních utkání" class="service-card-bg">
          <div class="service-card-content">
            <svg class="service-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.324l5.584.427a.563.563 0 01.31.958l-4.232 3.873a.563.563 0 00-.182.557l1.258 5.385a.563.563 0 01-.815.61l-5.076-2.884a.563.563 0 00-.58 0L4.482 21.44a.563.563 0 01-.815-.61l1.258-5.385a.563.563 0 00-.182-.557l-4.232-3.873a.563.563 0 01.31-.958l5.584-.427a.563.563 0 00.475-.324L11.48 3.5z" /></svg>
            <h3>Sportovní akce</h3>
            <p>Kompletní pořadatelská služba a bezpečné sektory pro fanoušky i hráče.</p>
          </div>
        </div>
        <div class="service-details">
          <button class="service-toggle" aria-expanded="false" aria-controls="service-includes-4">Co je součástí</button>
          <ul id="service-includes-4" class="service-includes collapsible" hidden>
            <li>Pořadatelský tým</li>
            <li>Kontrola vstupů a sektorů</li>
            <li>Spolupráce s policií a pořadateli</li>
          </ul>
        </div>
      </div>

      <div class="service-card" data-tilt>
        <div class="service-card-image-content">
          <img loading="lazy" width="600" height="400" src="http://bravion.cz/wp-content/uploads/2025/09/sec-800-x-800-px-700-x-800-px-600-x-800-px-800-x-200-px-200-x-200-px-200-x-200-px.png" alt="Ostraha nočních podniků" class="service-card-bg">
          <div class="service-card-content">
            <svg class="service-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 10.5V6.75a4.5 4.5 0 00-4.5-4.5h-5.25a4.5 4.5 0 00-4.5 4.5v3.75m14.25 0v4.5a4.5 4.5 0 01-4.5-4.5h-5.25a4.5 4.5 0 01-4.5-4.5v-4.5m14.25 0h-14.25" /></svg>
            <h3>Noční podniky</h3>
            <p>Bezpečné prostředí pro hosty i personál – prevence konfliktů a klidný provoz.</p>
          </div>
        </div>
        <div class="service-details">
          <button class="service-toggle" aria-expanded="false" aria-controls="service-includes-5">Co je součástí</button>
          <ul id="service-includes-5" class="service-includes collapsible" hidden>
            <li>Kontrola vstupu</li>
            <li>Monitoring prostor</li>
            <li>Rychlé řešení incidentů</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>


     <!-- ESTIMATOR SECTION -->
    <section id="calculator" class="section">
      <div class="container">
        <div class="estimator-stage" id="estimator-stage">
          <aside class="estimator-sidebar">
            <div class="sidebar-header">
              <h3>Služby</h3>
              <p>Vyberte oblast, která se vás týká.</p>
            </div>
            <nav class="service-nav" role="tablist" aria-label="Zvolte typ služby">
              <button type="button" class="service-nav-item service-pill active" data-service-pill="object" id="service-pill-object" aria-selected="true" aria-controls="service-panel-object" data-bg="https://images.unsplash.com/photo-1581092446347-a8b2f1597a1d?auto=format&fit=crop&w=1200&q=60" role="tab">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M54 57H10C8.89543 57 8 56.1046 8 55V15C8 13.8954 8.89543 13 10 13H54C55.1046 13 56 13.8954 56 15V55C56 56.1046 55.1046 57 54 57Z" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M18 13V9C18 7.89543 18.8954 7 20 7H44C45.1046 7 46 7.89543 46 9V13" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 23H26" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 33H26" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 43H26" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M38 23H42" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M38 33H42" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M38 43H42" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>Ostraha objektu</span>
              </button>
              <button type="button" class="service-nav-item service-pill" data-service-pill="vip" id="service-pill-vip" aria-selected="false" aria-controls="service-panel-vip" data-bg="https://images.unsplash.com/photo-1621601433342-23736822b311?auto=format&fit=crop&w=1200&q=60" role="tab" tabindex="-1">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M32 30C37.5228 30 42 25.5228 42 20C42 14.4772 37.5228 10 32 10C26.4772 10 22 14.4772 22 20C22 25.5228 26.4772 30 32 30Z" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M48.61 54C48.61 47.9 41.1 43 32 43C22.9 43 15.39 47.9 15.39 54" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M51 7L57 13" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M7 13L13 7" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>Osobní ochrana</span>
              </button>
              <button type="button" class="service-nav-item service-pill" data-service-pill="event" id="service-pill-event" aria-selected="false" aria-controls="service-panel-event" data-bg="https://images.unsplash.com/photo-1511795409834-ef04bbd51622?auto=format&fit=crop&w=1200&q=60" role="tab" tabindex="-1">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 26L32 12L50 26" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M18 32V52H46V32" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M26 52V40C26 37.7909 27.7909 36 30 36H34C36.2091 36 38 37.7909 38 40V52" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M55 42L50 45" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 42L14 45" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M52 30L56 26" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 30L8 26" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>Event security</span>
              </button>
              <button type="button" class="service-nav-item service-pill" data-service-pill="sport" id="service-pill-sport" aria-selected="false" aria-controls="service-panel-sport" data-bg="https://images.unsplash.com/photo-1541250848049-b9f71a6e8e88?auto=format&fit=crop&w=1200&q=60" role="tab" tabindex="-1">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M32 57C45.8071 57 57 45.8071 57 32C57 18.1929 45.8071 7 32 7C18.1929 7 7 18.1929 7 32C7 45.8071 18.1929 57 32 57Z" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M32 7C27.5 16.5 27.5 22.5 32 32C36.5 22.5 36.5 16.5 32 7Z" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M57 32C47.5 36.5 41.5 36.5 32 32C41.5 27.5 47.5 27.5 57 32Z" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M7 32H57" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M32 7V57" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>Sportovní utkání</span>
              </button>
              <button type="button" class="service-nav-item service-pill" data-service-pill="club" id="service-pill-club" aria-selected="false" aria-controls="service-panel-club" data-bg="https://images.unsplash.com/photo-1582220107107-590426d242c8?auto=format&fit=crop&w=1200&q=60" role="tab" tabindex="-1">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M32 20C32 15.5817 28.4183 12 24 12C19.5817 12 16 15.5817 16 20C16 23.5 18.5 26.3 21.6 27.5" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M48 20C48 15.5817 44.4183 12 40 12C35.5817 12 32 15.5817 32 20C32 23.5 34.5 26.3 37.6 27.5" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 20H10C8.89543 20 8 20.8954 8 22V50C8 51.1046 8.89543 52 10 52H54C55.1046 52 56 51.1046 56 50V22C56 20.8954 55.1046 20 54 20H48" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M32 28V38L40 43" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>Noční podniky</span>
              </button>
            </nav>
          </aside>
          <div class="estimator-main">
            <div class="estimator-headline">
              <h2>Plánovač bezpečnosti</h2>
              <p>Vyberte službu, upravte parametry a okamžitě uvidíte doporučený počet osob a směn v blocích do 12 hodin.</p>
            </div>
            <form id="estimator-form" class="estimator-form" onsubmit="event.preventDefault();">
              <label class="visually-hidden" for="service-type-select">Typ služby</label>
              <select name="service_type" id="service-type-select" hidden>
                <option value="object">Ostraha objektu</option>
                <option value="vip">Osobní ochrana</option>
                <option value="event">Event security</option>
                <option value="sport">Sportovní utkání</option>
                <option value="club">Ostraha nočních podniků</option>
              </select>
              <div class="estimator-form__grid">
                <div class="estimator-panels">
                  <div class="estimator-fields-group active" data-service="object" id="service-panel-object" aria-hidden="false">
                    <div class="calculator-heading">
                      <span>Ostraha objektu</span>
                      <span class="info-icon-wrapper">ℹ️
                        <div class="info-icon-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Zadejte plochu objektu, počet vstupů, podlaží, parkovacích míst a technických místností. Základní odhad vychází z jednoho pracovníka na každých 2&nbsp;000&nbsp;m² plochy a jednoho na každý vstup. Další patra, parkoviště a technické místnosti zvyšují potřebu personálu. Kamerový systém může snížit počet pracovníků, zatímco noční provoz ho zvyšuje.</p>
                        </div>
                      </span>
                    </div>
                    <label>Typ objektu
                      <select name="object_type">
                        <option value="office">Kanceláře</option>
                        <option value="warehouse">Sklad</option>
                        <option value="construction">Stavba</option>
                        <option value="mall">Obchodní centrum</option>
                      </select>
                    </label>
                    <label>Rozloha (m²)
                      <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                        <div class="info-small-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Celková plocha objektu. Odhad začíná u jednoho strážného na každých 2&nbsp;000&nbsp;m².</p>
                        </div>
                      </span>
                      <input type="number" name="area" min="50" value="1000" placeholder="např. 1000">
                    </label>
                    <label>Počet vstupů
                      <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                        <div class="info-small-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Každý samostatný vstup vyžaduje jednoho pracovníka.</p>
                        </div>
                      </span>
                      <input type="number" name="entrances_object" min="1" value="1" placeholder="např. 1">
                    </label>
                    <label>Provoz
                      <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                        <div class="info-small-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Výběr "24/7" znamená nepřetržitý provoz a vyžaduje více směn. U denního provozu se počítá pouze jedna směna.</p>
                        </div>
                      </span>
                      <select name="operation_time">
                        <option value="day">Denní</option>
                        <option value="247">24/7</option>
                      </select>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Má kamerový systém?
                        <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                          <div class="info-small-popover">
                            <button class="close-popover" aria-label="Zavřít">×</button>
                            <p>Kamerový systém může snížit potřebný počet pracovníků přibližně o 20&nbsp;%.</p>
                          </div>
                        </span>
                      </span>
                      <input type="checkbox" name="cctv">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label>Počet podlaží
                      <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                        <div class="info-small-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Každé podlaží přidává jednoho pracovníka.</p>
                        </div>
                      </span>
                      <input type="number" name="floors_object" min="1" value="1">
                    </label>
                    <label>Parkovací místa
                      <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                        <div class="info-small-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Každých 100 parkovacích míst přidává jednoho pracovníka.</p>
                        </div>
                      </span>
                      <input type="number" name="parking_object" min="0" value="0">
                    </label>
                    <label>Sklady / technické místnosti
                      <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                        <div class="info-small-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Každých 10 technických místností přidává jednoho pracovníka.</p>
                        </div>
                      </span>
                      <input type="number" name="technical_object" min="0" value="0">
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Noční provoz
                        <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                          <div class="info-small-popover">
                            <button class="close-popover" aria-label="Zavřít">×</button>
                            <p>Pokud je objekt hlídán přes noc, navýší se celkový počet pracovníků o 20&nbsp;%.</p>
                          </div>
                        </span>
                      </span>
                      <input type="checkbox" name="night_object">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                  </div>
                  <div class="estimator-fields-group" data-service="vip" id="service-panel-vip" hidden aria-hidden="true">
                    <div class="calculator-heading">
                      <span>Osobní ochrana</span>
                      <span class="info-icon-wrapper">ℹ️
                        <div class="info-icon-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Zadejte počet chráněných osob a zvolte rizikovost. Minimální odhad je jeden bodyguard na každou osobu. Cestování a požadavek na řidiče‑bodyguarda navyšují počet; vyšší riziko znamená vyšší potřebu personálu.</p>
                        </div>
                      </span>
                    </div>
                    <label>Počet chráněných osob
                      <span class="info-small-icon" role="button" aria-label="Info">ℹ️
                        <div class="info-small-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Každá chráněná osoba vyžaduje minimálně jednoho bodyguarda. Vyšší riziko, cestování nebo řidič‑bodyguard mohou zvýšit potřebu personálu.</p>
                        </div>
                      </span>
                      <input type="number" name="vip_count" min="1" value="1">
                    </label>
                    <label>Rizikovost
                      <select name="risk_vip">
                        <option value="1">Nízká</option>
                        <option value="1.5">Střední</option>
                        <option value="2">Vysoká</option>
                      </select>
                    </label>
                    <label>Pohyb
                      <select name="movement">
                        <option value="static">Pevná lokalita</option>
                        <option value="travel">Cestování</option>
                      </select>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Potřebujete řidiče-bodyguarda?</span>
                      <input type="checkbox" name="driver">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                  </div>
                  <div class="estimator-fields-group" data-service="event" id="service-panel-event" hidden aria-hidden="true">
                    <div class="calculator-heading">
                      <span>Event security</span>
                      <span class="info-icon-wrapper">ℹ️
                        <div class="info-icon-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Zadejte očekávaný počet návštěvníků, délku akce, rozmístění vstupů a další specifika. Odhad kombinuje pořadatele, supervizory a posily podle rizikovosti a logistiky akce.</p>
                        </div>
                      </span>
                    </div>
                    <label>Očekávaný počet návštěvníků
                      <input type="number" name="attendees_event" min="10" value="500" placeholder="např. 500">
                    </label>
                    <label>Trvání akce (hodiny)
                      <input type="number" name="duration_event" min="1" value="8">
                    </label>
                    <label>Rozloha areálu (m²)
                      <input type="number" name="area_event" min="0" value="0">
                    </label>
                    <label>Průměrná hustota osob (m² na osobu)
                      <input type="number" name="usage_event" min="0" step="0.1" value="0">
                    </label>
                    <label>Počet vstupů
                      <input type="number" name="gates_event" min="0" value="2">
                    </label>
                    <label>Kontrolní koridory
                      <input type="number" name="lanes_event" min="0" value="2">
                    </label>
                    <label>Zóny a sektory
                      <input type="number" name="zones_event" min="0" value="1">
                    </label>
                    <label>Rizikovost
                      <select name="risk_event">
                        <option value="1">Nízká</option>
                        <option value="1.3">Střední</option>
                        <option value="1.6">Vysoká</option>
                      </select>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Podává se alkohol?</span>
                      <input type="checkbox" name="alcohol">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">VIP zóna</span>
                      <input type="checkbox" name="vip_event">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Backstage</span>
                      <input type="checkbox" name="backstage_event">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Stanové městečko</span>
                      <input type="checkbox" name="camp_event">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Kontrola parkoviště</span>
                      <input type="checkbox" name="parking_event">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Venkovní akce</span>
                      <input type="checkbox" name="outdoor_event">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Noční program</span>
                      <input type="checkbox" name="night_event">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                  </div>
                  <div class="estimator-fields-group" data-service="sport" id="service-panel-sport" hidden aria-hidden="true">
                    <div class="calculator-heading">
                      <span>Sportovní utkání</span>
                      <span class="info-icon-wrapper">ℹ️
                        <div class="info-icon-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Počet pořadatelů se odvíjí od kapacity stadionu, rizikovosti utkání a logistiky vstupů. Oddělený sektor hostů, VIP nebo noční režim navýší potřebný tým.</p>
                        </div>
                      </span>
                    </div>
                    <label>Očekávaný počet diváků
                      <input type="number" name="attendees_sport" min="10" value="500">
                    </label>
                    <label>Trvání akce (hodiny)
                      <input type="number" name="duration_sport" min="1" value="4">
                    </label>
                    <label>Počet vstupů
                      <input type="number" name="gates_sport" min="0" value="2">
                    </label>
                    <label>Kontrolní koridory
                      <input type="number" name="lanes_sport" min="0" value="2">
                    </label>
                    <label>Zóny / sektory
                      <input type="number" name="zones_sport" min="0" value="1">
                    </label>
                    <label>Rizikovost
                      <select name="risk_sport">
                        <option value="1">Běžné</option>
                        <option value="1.5">Derby</option>
                        <option value="2">Vysoké riziko</option>
                      </select>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Oddělený sektor hostů?</span>
                      <input type="checkbox" name="guest_sector">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">VIP tribuny</span>
                      <input type="checkbox" name="vip_sport">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Kontrola parkoviště</span>
                      <input type="checkbox" name="parking_sport">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Venkovní stadion</span>
                      <input type="checkbox" name="outdoor_sport">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                    <label class="toggle-control">
                      <span class="toggle-control__label">Noční utkání</span>
                      <input type="checkbox" name="night_sport">
                      <span class="toggle-control__switch" aria-hidden="true"></span>
                    </label>
                  </div>
                  <div class="estimator-fields-group" data-service="club" id="service-panel-club" hidden aria-hidden="true">
                    <div class="calculator-heading">
                      <span>Noční podniky</span>
                      <span class="info-icon-wrapper">ℹ️
                        <div class="info-icon-popover">
                          <button class="close-popover" aria-label="Zavřít">×</button>
                          <p>Zadejte kapacitu, počet vstupů a rizikovost lokality. Odhad zahrnuje tým pro vstup, patrolu uvnitř a supervizora.</p>
                        </div>
                      </span>
                    </div>
                    <label>Kapacita podniku
                      <input type="number" name="club_capacity" value="150" min="20">
                    </label>
                    <label>Počet vstupů
                      <input type="number" name="entrances_club" value="1" min="1">
                    </label>
                    <label>Rizikovost lokality
                      <select name="risk_club">
                        <option value="1">Nízká</option>
                        <option value="1.3">Střední</option>
                        <option value="1.6">Vysoká</option>
                      </select>
                    </label>
                  </div>
                </div>
                <aside class="summary-card" aria-live="polite" aria-atomic="true">
                  <header>
                    <div class="summary-icon" id="summary-icon" aria-hidden="true">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l3 3" /></svg>
                    </div>
                    <h3 id="summary-title">Vyberte službu</h3>
                    <p id="summary-description">Zadejte parametry na levé straně a získáte okamžitý odhad osob na směnu a potřebného počtu směn.</p>
                  </header>
                  <dl class="summary-metrics">
                    <div class="summary-metric">
                      <dt>Na směnu</dt>
                      <dd id="summary-team">–</dd>
                    </div>
                    <div class="summary-metric">
                      <dt>Směny</dt>
                      <dd id="summary-shifts">–</dd>
                    </div>
                    <div class="summary-metric">
                      <dt>Minimum osob</dt>
                      <dd id="summary-total">–</dd>
                    </div>
                  </dl>
                  <p class="summary-coverage" id="summary-coverage">–</p>
                  <div class="summary-divider" aria-hidden="true"></div>
                  <ul class="summary-tips" id="summary-tips">
                    <li>Tipy a doporučení se zobrazí po výpočtu.</li>
                  </ul>
                  <div class="summary-actions">
                    <button type="button" class="summary-reset" id="summary-reset">Vymazat vstupy</button>
                    <a href="#cta" class="btn btn-accent btn--ghost" id="summary-cta-shortcut">Odeslat návrh</a>
                  </div>
                  <p class="summary-footnote" id="summary-footnote">Odhad vychází z maximálně 12hodinových směn. Pro plánování volna doporučujeme ponechat rezervu 10–20&nbsp;%.</p>
                </aside>
              </div>
              <div class="estimator-output" aria-live="polite">
                <div class="output-header">
                  <h4>Orientační návrh</h4>
                  <p class="output-headline">Doporučený počet: –</p>
                </div>
                <ul class="output-metrics">
                  <li><span>Na směnu</span><strong>–</strong></li>
                  <li><span>Směny</span><strong>–</strong></li>
                  <li><span>Minimum osob</span><strong>–</strong></li>
                </ul>
                <p class="output-coverage">Výsledky se zobrazí po zadání parametrů.</p>
                <p class="output-narrative">Zadejte informace o projektu a okamžitě uvidíte doporučení.</p>
              </div>
              <a href="#cta" id="estimator-cta" class="btn btn-accent">Poptat službu</a>
            </form>
          </div>
        </div>
      </div>
    </section>
    <!-- SECTION TRANSITION -->
    <div class="section-transition" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" style="fill: var(--bg-dark);">
            <path d="M0,0 C25,50 75,50 100,0 L100,100 L0,100 Z" opacity="0.5"></path>
            <path d="M0,10 C35,60 65,40 100,10 L100,100 L0,100 Z"></path>
        </svg>
    </div>

   <!-- PROCESS SECTION -->
<section id="process" class="section" style="background-color: var(--bg-dark);">
  <div class="container">
    <div class="section-header">
      <h2 data-animate-text>Jak s vámi pracujeme – 3 jednoduché kroky</h2>
      <p>Bezpečnost bereme vážně, ale komunikujeme na rovinu. Od prvního hovoru až po samotnou akci víte, co děláme a proč.</p>
    </div>

    <div class="process-steps">
      <svg id="process-line" width="100%" height="2px" preserveAspectRatio="none" aria-hidden="true">
        <path id="process-line-path" d="M0 1 H2000" stroke="var(--border-color)" stroke-width="2" fill="none" />
      </svg>

      <div class="process-step">
        <div class="process-step-number">1</div>
        <h3>Úvodní konzultace</h3>
        <p>Nejdřív si v klidu projdeme vaše plány. Zeptáme se na důležité detaily a navrhneme, co dává smysl pro bezpečný průběh.</p>
        <ul class="deliverables">
          <li>Krátká konzultace a základní risk-scan</li>
          <li>Návrh řešení v přehledném shrnutí</li>
        </ul>
      </div>

      <div class="process-step">
        <div class="process-step-number">2</div>
        <h3>Připravíme plán</h3>
        <p>Z návrhu uděláme konkrétní plán – kolik lidí je potřeba, jaké vybavení a kdy co zajistit. Vše máte černé na bílo.</p>
        <ul class="deliverables">
          <li>Jasný harmonogram a rozpis zodpovědností</li>
          <li>Doporučení techniky a postupů</li>
        </ul>
      </div>

      <div class="process-step">
        <div class="process-step-number">3</div>
        <h3>Den D</h3>
        <p>Ve smluvený termín jsme na místě a děláme svou práci, aby vše proběhlo podle plánu. Vy máte jistotu, že je o všechno postaráno.</p>
        <ul class="deliverables">
          <li>Nasazení týmu a potřebné techniky</li>
          <li>Průběžné informace a finální shrnutí</li>
        </ul>
      </div>
    </div>
  </div>
</section>

    
    <!-- TEAM SECTION -->
    <section id="team" class="section">
        <div class="container">
            <div class="section-header">
                <h2 data-animate-text>Náš tým: Tváře, kterým můžete věřit</h2>
                <p>Náš tým je naše největší síla. Každý člen je pečlivě vybrán a proškolen, abychom vám mohli zaručit 100% spolehlivost.</p>
            </div>
            <div class="team-grid">
                <div class="team-member" data-member-id="1" role="button" tabindex="0" aria-label="Zobrazit detail pro Tomáš Hozák">
                    <div class="team-member-img-wrapper">
                        <img loading="lazy" width="250" height="250" src="https://bravion.cz/wp-content/uploads/2025/08/d9fd1e7a-056d-493d-bea8-af7a2165f87a-e1758974869670.jpg" alt="Člen týmu Bravion">
                        <div class="team-member-overlay">
                            <span>Jednatel &amp; Majitel</span>
                            <span class="plus-icon">+</span>
                        </div>
                    </div>
                    <h3>Tomáš Hozák</h3>
                    <p>Jednatel &amp; Majitel</p>
                </div>
                <div class="team-member" data-member-id="2" role="button" tabindex="0" aria-label="Zobrazit detail pro David Hudák">
                    <div class="team-member-img-wrapper">
                        <img loading="lazy" width="250" height="250" src="https://scontent.fprg4-1.fna.fbcdn.net/v/t1.6435-9/33806402_1642514525786041_309828400883695616_n.jpg?_nc_cat=105&amp;ccb=1-7&amp;_nc_sid=833d8c&amp;_nc_ohc=9_EABP33xyMQ7kNvwGI49gk&amp;_nc_oc=Adk81HCh0zp9qMJsIfb69kd6Ed3koBWvNngWhug9gUl6PC09BIs-HM2Nk9Q1tjK1SC0&amp;_nc_zt=23&amp;_nc_ht=scontent.fprg4-1.fna&amp;_nc_gid=Eo3UpTv6jOEPWLlPbEzAVA&amp;oh=00_AfbfhzTT0KKddfKVSJvkDcUh_j6XO7KrvX2DHjG5wlK29w&amp;oe=68FF43C1" alt="Člen týmu Bravion">
                        <div class="team-member-overlay">
                            <span>Provozní Supervizor</span>
                            <span class="plus-icon">+</span>
                        </div>
                    </div>
                    <h3>David Hudák</h3>
                    <p>Provozní Supervizor</p>
                </div>
                <div class="team-member" data-member-id="3" role="button" tabindex="0" aria-label="Zobrazit detail pro Kristýna Voksová">
                    <div class="team-member-img-wrapper">
                        <img loading="lazy" width="250" height="250" src="https://scontent.fprg4-1.fna.fbcdn.net/v/t1.6435-9/118765242_4567164523324066_4486028877719179790_n.jpg?_nc_cat=104&amp;ccb=1-7&amp;_nc_sid=6ee11a&amp;_nc_ohc=3STTIpbQrMoQ7kNvwGmK9nV&amp;_nc_oc=AdkUySqzVJFBzKtsCLhiIVoWFPgKRyQsIYwMCB8dCSiPz4uIiPGCa0LUFYD7dKdCFBY&amp;_nc_zt=23&amp;_nc_ht=scontent.fprg4-1.fna&amp;_nc_gid=EZH7SqJhsuqIegooOSvHGg&amp;oh=00_AfYRf-YyrbXvPHrJ4AUeDIevvXhabl-1dhXTFO2cnbpZtg&amp;oe=68FF4F58" alt="Člen týmu Bravion" class="voksova-img">
                        <div class="team-member-overlay">
                            <span>HR Asistentka</span>
                             <span class="plus-icon">+</span>
                        </div>
                    </div>
                    <h3>Kristýna Voksová</h3>
                    <p>HR Asistentka</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- GALLERY SECTION (NEW) -->
    <section id="gallery" class="section" style="background-color: var(--bg-dark);">
      <div class="container">
        <div class="section-header">
          <h2 data-animate-text>Reference v obrazech</h2>
          <p>Velké akce si žádají silné partnery. Tady je několik z nich, kde jsme se podíleli na zajištění bezpečnosti a klidného průběhu.</p>
        </div>
        <div class="gallery-grid">
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/09/542519199_122168750000486917_5235837983491201776_n.jpg" alt="Event security tým Bravion na hudebním festivalu Hrady CZ"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/09/547207097_122170260368486917_835135410466602261_n.jpg" alt="Profesionální event security Znojemské Vinobraní "></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/09/545333569_122169773942486917_4214884600553985258_n.jpg" alt="Zabezpečení akce s event security Bravion"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/09/540980446_122168742752486917_5816495075006582546_n.jpg" alt="Ostraha festivalu - event security"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/533100595_122166404090486917_3104661969701634778_n-1.jpg" alt="Bezpečnostní služby pro event security"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/531952455_122166407186486917_1562894209650847436_n.jpg" alt="Kontrola vstupu na akci naším týmem"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/521880720_122163193514486917_4371983168766280091_n.jpg" alt="Ostraha VIP zóny na akci v Jihomoravském kraji"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/519420605_122162295914486917_3587218783851614825_n.jpg" alt="Pracovník ostrahy Bravion"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/517345112_122160873650486917_6271359066360853311_n.jpg" alt="Zabezpečení sportovního utkání - event security"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/516444532_122160875978486917_5803014405729944711_n.jpg" alt="Bravion Security na firemní akci"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/516390457_122165096420486917_9031548581263737840_n.jpg" alt="Ostraha nočního podniku v Brně"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/515668731_122160876242486917_4166114798104164237_n.jpg" alt="Bezpečnostní plánování pro event security"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/515440624_122160875768486917_3141510045509415353_n.jpg" alt="Profesionální ostraha na eventu"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/515040809_122164096130486917_2638483352118377269_n.jpg" alt="Diskrétní ochrana osob na společenské akci"></div>
          <div class="gallery-item"><img loading="lazy" width="600" height="800" src="https://bravion.cz/wp-content/uploads/2025/08/507129730_122161161890486917_6699242769022458858_n.jpg" alt="Tým Bravion Security zajišťuje event"></div>
        </div>
      </div>
    </section>

    <!-- TESTIMONIALS SECTION -->
    <section id="testimonials" class="section" style="background-color: var(--bg-card);">
        <div class="container">
            <div class="section-header">
              <h2 data-animate-text>Co o spolupráci říkají ostatní</h2>
            </div>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                  <div class="stars" aria-label="Hodnocení 5 z 5">★★★★★</div>
                  <p class="testimonial-text">"Děkuji moc za to, že jste byli součástí naší akce Vary Září 2024 a společně rozzářili Karlovy Vary. Spolupracovat s Vámi byla pro mě radost. Věřím a pevně doufám, že to nebyla naše poslední spolupráce a snad brzy se zas uvidíme v Karlových Varech. Přeji Vám krásnou a pohodovou cestu zpět. Jste úžasný, děkuji."</p>
                  <div class="testimonial-author">
                      
                      <span>Organizátorka, Vary Září 2024</span>
                  </div>
                </div>
                <div class="testimonial-card">
                  <div class="stars" aria-label="Hodnocení 5 z 5">★★★★★</div>
                  <p class="testimonial-text">"„I při velkém počtu návštěvníků proběhlo vše v klidu a bez problémů. Oceňujeme rychlé reakce a bezproblémovou spolupráci"</p>
                  <div class="testimonial-author">
                      
                      <span>Pořadatelský tým festivalu</span>
                  </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ SECTION -->
    <section id="faq" class="section">
        <div class="container">
            <div class="section-header">
                <h2 data-animate-text>Často kladené dotazy</h2>
            </div>
            <div class="faq-container">
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false" id="q1" aria-controls="faq1">
                        <span>Kolik stojí ostraha akce?</span>
                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                    </button>
                    <div class="faq-answer" id="faq1" role="region" aria-labelledby="q1">
                        <p>Cena za ostrahu akce se odvíjí od mnoha faktorů, jako je počet účastníků, velikost a typ areálu, rizikovost a požadovaný počet našich pracovníků. Pro přesnou kalkulaci nás prosím kontaktujte, rádi vám připravíme nezávaznou nabídku na míru.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false" id="q2" aria-controls="faq2">
                        <span>Jak funguje bodyguard služba?</span>
                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                    </button>
                    <div class="faq-answer" id="faq2" role="region" aria-labelledby="q2">
                        <p>Služba osobní ochrany (bodyguard) je maximálně diskrétní a přizpůsobená vašemu životnímu stylu. Po úvodní konzultaci a analýze rizik vám přidělíme osobního strážce nebo tým, který zajistí vaši bezpečnost při všech aktivitách, ať už jde o pracovní cesty, společenské události nebo soukromý čas.</p>
                    </div>
                </div>
                 <div class="faq-item">
                    <button class="faq-question" aria-expanded="false" id="q3" aria-controls="faq3">
                        <span>Působíte pouze v Brně?</span>
                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                    </button>
                    <div class="faq-answer" id="faq3" role="region" aria-labelledby="q3">
                        <p>Naše hlavní sídlo je v Brně, ale naše služby poskytujeme po celém Jihomoravském kraji a po dohodě i v rámci celé České republiky. Pro větší projekty a dlouhodobou spolupráci jsme schopni zajistit ostrahu kdekoliv je potřeba.</p>
                    </div>
                </div>
                 <div class="faq-item">
                  <button class="faq-question" aria-expanded="false" id="q4" aria-controls="faq4"><span>Jak rychle umíte nastoupit?</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg></button>
                  <div class="faq-answer" id="faq4" role="region" aria-labelledby="q4"><p>Obvykle do 48 hodin od potvrzení objednávky, u pravidelných služeb dle individuální domluvy.</p></div>
                </div>
                <div class="faq-item">
                  <button class="faq-question" aria-expanded="false" id="q5" aria-controls="faq5"><span>Máte pojištění odpovědnosti?</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg></button>
                  <div class="faq-answer" id="faq5" role="region" aria-labelledby="q5"><p>Ano, samozřejmostí je pojištění odpovědnosti za škodu do výše 5 milionů Kč.</p></div>
                </div>
                <div class="faq-item">
                  <button class="faq-question" aria-expanded="false" id="q6" aria-controls="faq6"><span>Pracujete i mimo Jihomoravský kraj?</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg></button>
                  <div class="faq-answer" id="faq6" role="region" aria-labelledby="q6"><p>Ano, ačkoliv je naší primární lokalitou Brno a Jihomoravský kraj, po dohodě zajišťujeme bezpečnostní služby po celé České republice.</p></div>
                </div>
            </div>
        </div>
    </section>

    <section id="cta" class="section">
        <img loading="lazy" src="http://bravion.cz/wp-content/uploads/2025/07/518358837_1322492385903170_7904239106560120937_n.jpg" alt="Bezpečnostní služby na akci" class="cta-background">
        <div class="container">
            <div class="cta-content">
                <h2 data-animate-text>Pojďme navrhnout bezpečné řešení</h2>
                <p>Nezávazná konzultace zdarma. Ozveme se v pracovních dnech do 24 hodin.</p>

                <form id="cta-form" action="https://formspree.io/f/mkgqozbw" method="POST">
                  <div class="cta-step cta-step--1">
                    <label>Jakou službu hledáte?
                      <select name="typ" required id="cta-service-select">
                        <option>Event security</option>
                        <option>Ostraha objektu</option>
                        <option>Osobní ochrana</option>
                        <option>Sportovní utkání</option>
                        <option>Ostraha nočních podniků</option>
                      </select>
                    </label>
                    <label>Termín / období
                      <input type="text" name="kdy" placeholder="např. 12. 6. – 14. 6. 2025" required>
                    </label>
                    <!-- This element will display the recommended solution from the calculator. It will be shown
                         only when a recommendation is available. -->
                    <div id="cta-estimate-display" class="cta-estimate-display" hidden></div>
                    <button type="button" class="btn btn-accent" id="cta-next">Pokračovat</button>
                  </div>

                  <div class="cta-step cta-step--2" hidden>
                    <label>Jméno <input type="text" name="jmeno" required></label>
                    <label>E-mail <input type="email" name="email" autocomplete="email" required></label>
                    <label>Telefon <input type="tel" name="tel" autocomplete="tel" required></label>
                    <label class="consent">
                      <input type="checkbox" required>
                      Souhlasím se zpracováním údajů pro účely poptávky.
                    </label>
                    <button type="submit" class="btn btn-accent">Odeslat poptávku</button>
                    <button type="button" class="btn btn-secondary" id="cta-prev">Zpět</button>
                  </div>
                  <!-- Hidden field capturing the estimator recommendation -->
                  <input type="hidden" name="navrh" id="cta-estimate">
                  <!-- Hidden field capturing detailed parameters from the estimator -->
                  <input type="hidden" name="parametry" id="cta-details">
                  <input type="text" name="company" class="hp" tabindex="-1" autocomplete="off" aria-hidden="true">
                </form>
              </div>
        </div>
    </section>
  </main>

  
  <a href="#cta" id="sticky-cta" class="btn btn-accent" data-magnetic aria-label="Přejít na poptávkový formulář">Poptat službu</a>

  <!-- Team Member Modal -->
  <div id="team-modal-overlay">
      <div id="team-modal-content" role="document" aria-labelledby="modal-name" aria-describedby="modal-bio">
          <button id="team-modal-close" aria-label="Zavřít detail">&times;</button>
          <div class="modal-grid">
              <img id="modal-img" src="" alt="Portrét člena týmu">
              <div>
                  <h3 id="modal-name"></h3>
                  <p id="modal-role"></p>
                  <p id="modal-bio"></p>
                  <p id="modal-motto"></p>
              </div>
          </div>
      </div>
  </div>
  
  <!-- Lightbox Container -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true">
      <button class="lightbox-close" aria-label="Zavřít galerii">&times;</button>
      <img src="" alt="Zvětšený obrázek z galerie">
  </div>

  <!-- Form Success Modal -->
  <div id="form-success-overlay">
      <div id="form-success-content" role="alertdialog" aria-labelledby="form-success-title">
          <button id="form-success-close" aria-label="Zavřít zprávu">&times;</button>
          <div class="success-icon">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
          </div>
          <h3 id="form-success-title">Děkujeme!</h3>
          <p>Vaše poptávka byla úspěšně odeslána. Ozveme se vám co nejdříve.</p>
      </div>
  </div>


  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const preloader = document.getElementById('preloader');
      document.body.classList.remove('loading');
      preloader?.classList.add('hidden');
      // safety fallback (kdyby window.load neproběhl)
      setTimeout(() => preloader?.classList.add('hidden'), 1500);
    });

    window.addEventListener('load', () => {
      gsap.registerPlugin(ScrollTrigger, TextPlugin);
      
      const mainContent = document.querySelector('main');
      
      const tl = gsap.timeline({ defaults: { ease: "power2.out", duration: 1.2 } });
      tl.to(mainContent, { duration: 0.5, opacity: 1 })
        .from(".hero-content h1", { opacity: 0, y: 30 }, "-=0.3")
        .from(".hero-subheading", { opacity: 0, y: 20 }, "-=1")
        .from(".hero-claim", { opacity: 0, y: 20 }, "-=0.9")
        .from(".hero-trust", { opacity: 0, y: 20 }, "-=0.9")
        .from(".hero-quick-form", { opacity: 0, y: 20 }, "-=0.9")
        .from(".hero-contact-quick", { opacity: 0, y: 20 }, "-=0.8");

      initAnimations();

      // --- Quick Quote Form ---
      const qt=document.getElementById('quick-toggle'), qf=document.getElementById('quick-form');
      if(qt && qf){ qt.addEventListener('click',()=>{ 
        const isOpen=qf.classList.toggle('collapsed');
        qt.setAttribute('aria-expanded', String(!isOpen));
      });}

      // --- Universal Collapsible ---
      document.querySelectorAll('.service-toggle, .faq-question').forEach(btn=>{
        const panel = document.getElementById(btn.getAttribute('aria-controls'));
        if (!panel) return;
        btn.addEventListener('click', ()=>{
          const open = btn.getAttribute('aria-expanded') === 'true';
          // Close all other FAQ items if it's an FAQ
          if (btn.classList.contains('faq-question') && !open) {
            document.querySelectorAll('.faq-question').forEach(b => {
                const p = document.getElementById(b.getAttribute('aria-controls'));
                b.setAttribute('aria-expanded', 'false');
                b.classList.remove('active');
                if (p) {
                  p.hidden = true;
                  p.classList.remove('is-open');
                }
            });
          }

          btn.setAttribute('aria-expanded', String(!open));
          btn.classList.toggle('active', !open);
          panel.hidden = open;
          panel.classList.toggle('is-open', !open);
        });
      });
      
      // --- Estimator (Smart & Live) ---
      const estimatorForm = document.getElementById('estimator-form');
      if (estimatorForm) {
        const serviceTypeSelect = document.getElementById('service-type-select');
        const outputEl = estimatorForm.querySelector('.estimator-output');
        const estimatorStage = document.getElementById('estimator-stage');
        const estimatorCtaBtn = document.getElementById('estimator-cta');
        const ctaEstimateField = document.getElementById('cta-estimate');
        const ctaDetailsField = document.getElementById('cta-details');
        const ctaDisplay = document.getElementById('cta-estimate-display');
        const ctaServiceSelect = document.getElementById('cta-service-select');
        const summaryCard = document.querySelector('.summary-card');
        const summaryIcon = document.getElementById('summary-icon');
        const summaryTitle = document.getElementById('summary-title');
        const summaryDescription = document.getElementById('summary-description');
        const summaryTeam = document.getElementById('summary-team');
        const summaryShifts = document.getElementById('summary-shifts');
        const summaryTotal = document.getElementById('summary-total');
        const summaryCoverage = document.getElementById('summary-coverage');
        const summaryTips = document.getElementById('summary-tips');
        const summaryFootnote = document.getElementById('summary-footnote');
        const summaryReset = document.getElementById('summary-reset');
        const summaryCtaShortcut = document.getElementById('summary-cta-shortcut');
        const servicePills = Array.from(document.querySelectorAll('[data-service-pill]'));

        const serviceMap = {
          object: 'Ostraha objektu',
          vip: 'Osobní ochrana',
          event: 'Event security',
          sport: 'Sportovní utkání',
          club: 'Ostraha nočních podniků'
        };

        const SERVICE_CONFIG = {
          object: {
            label: 'Ostraha objektu',
            summaryTitle: 'Strategická ostraha objektu',
            description: 'Vyvážený tým pro recepce, obchůzky a dohled nad technikou i logistikou.',
            footnote: 'Směny plánujeme v blocích do 12 hodin. Do celkového počtu přidejte rezervu pro dovolené a nemocnost.',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 10.5h15M4.5 6h15m-13.5 4.5V21m4.5-10.5V21m4.5-10.5V21m4.5-10.5V21" /></svg>',
            defaultTips: [
              'Ujistěte se, že patrola zahrnuje i technické prostory a logistické zázemí.',
              'Pro nepřetržitý provoz doporučujeme plánování rotačních směn minimálně 2 týdny dopředu.'
            ]
          },
          vip: {
            label: 'Osobní ochrana',
            summaryTitle: 'Ochrana VIP osob',
            description: 'Tým bodyguardů koordinuje bezpečí, logistiku přesunů i krizovou komunikaci.',
            footnote: 'Odhad vychází z 12hodinových bloků služby. Při cestování zvažte i záložní osádku vozidel.',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 12.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 21a7.5 7.5 0 0 1 15 0" /></svg>',
            defaultTips: [
              'Pro cestovní itineráře počítejte s advance týmem a průzkumem tras.',
              'Zvažte kombinaci viditelných a nenápadných členů pro lepší krizové scénáře.'
            ]
          },
          event: {
            label: 'Event security',
            summaryTitle: 'Zabezpečení eventu',
            description: 'Průchodnost vstupů, koordinace zón a práce s davem v reálném čase.',
            footnote: 'Směny jsou rozdělené do maximálně 12 hodin. Po delších blocích střídejte klíčové role.',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 9h15l-2.25 12h-10.5L4.5 9Zm3-5.25 1.5 3m6-3 1.5 3" /></svg>',
            defaultTips: [
              'Vyčleňte briefing 30 minut před otevřením bran pro sladění komunikace.',
              'Nezapomeňte na jasně definované evakuační zóny a krizové hlášení.'
            ]
          },
          sport: {
            label: 'Sportovní utkání',
            summaryTitle: 'Zabezpečení sportovní akce',
            description: 'Segmentované týmy pro tribuny, koridory, VIP a hostující fanoušky.',
            footnote: 'Počet směn vychází z délky utkání s limitem 12 hodin. U rizikových zápasů přidejte rezervní skupinu.',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 19.5 3-12 4.5 3 7.5-6-3 12-4.5-3-7.5 6Z" /></svg>',
            defaultTips: [
              'Pro derby zvažte rozšíření týmu o mobilní zásahovou skupinu.',
              'Komunikaci na stadiónu sjednoťte pomocí sdílených rádiových kanálů.'
            ]
          },
          club: {
            label: 'Ostraha nočních podniků',
            summaryTitle: 'Ostraha nočního podniku',
            description: 'Kontrola vstupu, práce s VIP hosty i prevence incidentů uvnitř provozu.',
            footnote: 'Noční směna je počítána do 12 hodin. Pro víkendové špičky mějte připravenou rezervní dvojici.',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 20.25c4.556 0 8.25-3.694 8.25-8.25S16.556 3.75 12 3.75 3.75 7.444 3.75 12 7.444 20.25 12 20.25Z" /><path stroke-linecap="round" stroke-linejoin="round" d="m9 10.5 3 3 7.5-7.5" /></svg>',
            defaultTips: [
              'Koordinujte tým s personálem baru kvůli signálům při přetížení.',
              'Při vyšší návštěvnosti přidejte člena na patro nebo VIP salonek.'
            ]
          }
        };

        let currentService = serviceTypeSelect.value;
        let lastEstimate = '';
        let lastEstimateDetail = '';

        function formatNumber(value) {
          return Number(value || 0).toLocaleString('cs-CZ');
        }

        function pluralize(count, single, few, many) {
          const mod10 = count % 10;
          const mod100 = count % 100;
          if (mod10 === 1 && mod100 !== 11) return single;
          if (mod10 >= 2 && mod10 <= 4 && (mod100 < 10 || mod100 >= 20)) return few;
          return many;
        }

        function animateOutput() {
          if (typeof gsap !== 'undefined') {
            gsap.fromTo(outputEl, { opacity: 0.35, y: 6 }, { opacity: 1, y: 0, duration: 0.35, ease: 'power2.out' });
            if (summaryCard) {
              gsap.fromTo(summaryCard, { boxShadow: '0 25px 60px -42px rgba(0,0,0,0.85)' }, {
                boxShadow: '0 25px 60px -28px rgba(0,0,0,0.78)',
                duration: 0.6,
                ease: 'power2.out'
              });
            }
          }
        }

        function renderTips(tips, fallback) {
          const items = (tips && tips.length) ? tips : (fallback || ['Tipy a doporučení se zobrazí po výpočtu.']);
          summaryTips.innerHTML = '';
          items.forEach(text => {
            const li = document.createElement('li');
            li.textContent = text;
            summaryTips.appendChild(li);
          });
        }

        function calculateObject(form) {
          const type = form.object_type.value;
          const area = Number(form.area.value) || 0;
          const entrances = Math.max(1, Number(form.entrances_object.value) || 1);
          const time = form.operation_time.value;
          const cctv = form.cctv.checked;
          const floors = Math.max(1, Number(form.floors_object.value) || 1);
          const parking = Math.max(0, Number(form.parking_object.value) || 0);
          const technical = Math.max(0, Number(form.technical_object.value) || 0);
          const nightFlag = form.night_object && form.night_object.checked;

          const typeFactor = { construction: 1.3, mall: 1.45, warehouse: 1.12, office: 1 }[type] || 1;
          let base = (area / 2000) + entrances;
          base *= typeFactor;
          if (cctv) base *= 0.82;
          base += Math.max(0, floors - 1);
          base += parking / 120;
          base += technical / 12;
          if (nightFlag) base *= 1.18;

          const guards = Math.max(1, Math.ceil(base));
          const supervisors = Math.max(1, Math.round(guards / 6));
          const perShift = guards + supervisors;
          const shiftCount = time === '247' ? 2 : 1;
          const shiftsLabel = time === '247'
            ? `${shiftCount} ${pluralize(shiftCount, 'směna', 'směny', 'směn')} / den · 12 h bloky`
            : `${shiftCount} ${pluralize(shiftCount, 'směna', 'směny', 'směn')} · max 12 h`;
          const totalStaff = perShift * shiftCount;

          const coverage = time === '247'
            ? 'Nepřetržitý dohled: dvě 12hodinové směny pokrývají recepci, patrolu i supervizora.'
            : 'Denní provoz krytý jednou směnou do 12 hodin se zaměřením na recepci a pochůzky.';

          const typeText = form.object_type.options[form.object_type.selectedIndex]?.text || 'objekt';
          const detail = `Rozloha ${formatNumber(area)} m², ${floors} ${pluralize(floors, 'podlaží', 'podlaží', 'podlaží')}, ${entrances} ${pluralize(entrances, 'vstup', 'vstupy', 'vstupů')}${parking ? `, ${formatNumber(parking)} parkovacích míst` : ''}${technical ? `, ${formatNumber(technical)} technických místností` : ''}${cctv ? ', kamerový systém' : ''}${nightFlag ? ', noční provoz' : ''}.`;

          const tips = [];
          if (!cctv) tips.push('Instalace kamer nebo PCO může snížit potřebu fyzické ostrahy až o 20 %.');
          if (nightFlag) tips.push('Noční provoz posilujte dvojicí pracovníků kvůli bezpečnosti při výjezdech.');
          if (floors > 4) tips.push('Rozdělte patrolu na horní a spodní blok pro rychlejší reakci.');

          const summaryTeamValue = `${perShift} ${pluralize(perShift, 'osoba', 'osoby', 'osob')}`;
          const totalLabel = `${totalStaff} ${pluralize(totalStaff, 'osoba', 'osoby', 'osob')}`;

          return {
            teamHeadline: `${perShift} ${pluralize(perShift, 'osoba', 'osoby', 'osob')} na směnu`,
            summaryTeam: summaryTeamValue,
            shiftsLabel,
            totalLabel,
            coverage,
            detail: `${SERVICE_CONFIG.object.label}: ${detail}`,
            narrative: `Objekt „${typeText}“ vyžaduje ${guards} ${pluralize(guards, 'strážného', 'strážné', 'strážných')} na vstupy a pochůzky a ${supervisors} ${pluralize(supervisors, 'supervizora', 'supervizory', 'supervizorů')} pro dohled.`,
            tips,
            ctaLabel: 'Poptat navržené řešení'
          };
        }

        function calculateVip(form) {
          const count = Math.max(1, Number(form.vip_count.value) || 1);
          const risk = parseFloat(form.risk_vip.value) || 1;
          const movement = form.movement.value;
          const driver = form.driver.checked;

          let base = Math.max(1, Math.ceil(count * risk));
          let advanceTeam = 0;
          if (movement === 'travel') {
            base += 1;
            advanceTeam = 1;
          }
          if (driver) base += 1;

          const perShift = base;
          const shiftCount = movement === 'travel' ? 2 : 1;
          const totalStaff = perShift * shiftCount + advanceTeam;
          const shiftsLabel = movement === 'travel'
            ? `${shiftCount} ${pluralize(shiftCount, 'směna', 'směny', 'směn')} / den · 12 h bloky`
            : `${shiftCount} ${pluralize(shiftCount, 'směna', 'směny', 'směn')} · max 12 h`;

          const riskText = risk === 1 ? 'nízké' : risk === 1.5 ? 'střední' : 'vysoké';
          const coverage = movement === 'travel'
            ? 'Dynamická ochrana při přesunech se střídáním 12hodinových směn a advance týmem pro trasu.'
            : 'Stálá blízká ochrana v jedné lokalitě se směnou do 12 hodin.';

          const detail = `${count} VIP osob, riziko ${riskText}${movement === 'travel' ? ', cestování' : ', pevné místo'}${driver ? ', řidič-bodyguard' : ''}.`;

          const tips = [];
          if (movement === 'travel') tips.push('Připravte si záložní trasu a kontakty na lokální složky IZS.');
          if (risk > 1.4) tips.push('Vyhodnoťte potřebu balistických prvků a specializovaného školení.');
          if (!driver) tips.push('Samostatný řidič zvyšuje bezpečnost nastupování a evakuace.');

          const bodyguardWord = pluralize(perShift, 'bodyguard', 'bodyguardi', 'bodyguardů');
          const summaryTeamValue = `${perShift} ${bodyguardWord}`;
          const totalLabel = `${totalStaff} ${pluralize(totalStaff, 'osoba', 'osoby', 'osob')}${advanceTeam ? ' (včetně advance týmu)' : ''}`;

          return {
            teamHeadline: `${perShift} ${bodyguardWord} na směnu${advanceTeam ? ' + advance tým' : ''}`,
            summaryTeam: summaryTeamValue,
            shiftsLabel,
            totalLabel,
            coverage,
            detail: `${SERVICE_CONFIG.vip.label}: ${detail}`,
            narrative: `Tým pro ${count} VIP (${riskText} riziko) tvoří ${perShift} ${bodyguardWord}${advanceTeam ? ' a advance tým pro trasu' : ''}${driver ? ' včetně specializovaného řidiče' : ''}.`,
            tips,
            ctaLabel: 'Zarezervovat ochranný tým'
          };
        }

        function calculateEvent(form) {
          let attendees = Math.max(0, Number(form.attendees_event.value) || 0);
          const area = Math.max(0, Number(form.area_event.value) || 0);
          const usage = Math.max(0, parseFloat(form.usage_event.value) || 0);
          let attendeesSource = 'zadané';
          if (!attendees && area && usage) {
            attendees = Math.ceil(area / usage);
            attendeesSource = `odvozené z plochy ${formatNumber(area)} m²`;
          }
          const lanes = Math.max(0, Number(form.lanes_event.value) || 0);
          const gates = Math.max(0, Number(form.gates_event.value) || 0);
          const risk = parseFloat(form.risk_event.value) || 1;
          const alcohol = form.alcohol.checked;
          const duration = Math.max(1, Number(form.duration_event.value) || 8);
          const zones = Math.max(0, Number(form.zones_event.value) || 0);
          const backstage = form.backstage_event && form.backstage_event.checked;
          const parking = form.parking_event && form.parking_event.checked;
          const camp = form.camp_event && form.camp_event.checked;
          const vipFlag = form.vip_event && form.vip_event.checked;
          const outdoor = form.outdoor_event && form.outdoor_event.checked;
          const nightFlag = form.night_event && form.night_event.checked;

          let ratio;
          if (attendees <= 1000) {
            ratio = risk === 1 ? 100 : risk === 1.3 ? 70 : 45;
          } else if (attendees <= 5000) {
            ratio = risk === 1 ? 120 : risk === 1.3 ? 80 : 50;
          } else {
            ratio = risk === 1 ? 150 : risk === 1.3 ? 110 : 70;
          }
          let base = attendees / Math.max(1, ratio);
          base += gates;
          base += lanes * 0.75;
          base += zones * 1.5;
          if (backstage) base += 2;
          if (parking) base += 2;
          if (camp) base += 3;
          if (vipFlag) base += 2;
          if (alcohol) base *= 1.1;
          if (outdoor) base *= 1.05;
          if (nightFlag) base *= 1.12;

          const stewards = Math.max(4, Math.ceil(base));
          const supervisors = Math.max(1, Math.ceil(stewards / 8));
          const perShift = stewards + supervisors;
          const shiftCount = Math.max(1, Math.ceil(duration / 12));
          const hoursPerShift = Math.max(3, Math.round((duration / shiftCount) * 2) / 2);
          const totalStaff = perShift * shiftCount;
          const shiftsLabel = `${shiftCount} ${pluralize(shiftCount, 'směna', 'směny', 'směn')} · ${duration} h / 12 h bloky`;

          const coverage = `${stewards} ${pluralize(stewards, 'pořadatel', 'pořadatelé', 'pořadatelů')} + ${supervisors} ${pluralize(supervisors, 'supervizor', 'supervizoři', 'supervizorů')} na směnu (cca ${hoursPerShift} h bloky).`;
          const detail = `Údaje ${attendeesSource}, riziko ${risk === 1 ? 'nízké' : risk === 1.3 ? 'střední' : 'vysoké'}${alcohol ? ', podává se alkohol' : ''}${vipFlag ? ', VIP zóna' : ''}${camp ? ', stanové městečko' : ''}${nightFlag ? ', noční program' : ''}.`;

          const tips = [];
          if (gates + lanes === 0) tips.push('Definujte alespoň jeden vstup nebo koridor pro řízení davu.');
          if (vipFlag) tips.push('Vyčleňte dedikovaný tým pro VIP a rychlé přesuny mezi zónami.');
          if (nightFlag) tips.push('Noční program doplňte o světelné značení a posílené patroly.');
          if (alcohol) tips.push('Počítejte s vyšším důrazem na zdravotní dohled a práci s konflikty.');

          const summaryTeamValue = `${perShift} ${pluralize(perShift, 'osoba', 'osoby', 'osob')}`;
          const totalLabel = `${totalStaff} ${pluralize(totalStaff, 'osoba', 'osoby', 'osob')}`;

          return {
            teamHeadline: `${perShift} členů týmu na směnu`,
            summaryTeam: summaryTeamValue,
            shiftsLabel,
            totalLabel,
            coverage,
            detail: `${SERVICE_CONFIG.event.label}: ${detail}`,
            narrative: `Akci pro ${formatNumber(attendees)} návštěvníků zajistí ${shiftCount} ${pluralize(shiftCount, 'směna', 'směny', 'směn')} s ${stewards} pořadateli a ${supervisors} ${pluralize(supervisors, 'supervizorem', 'supervizory', 'supervizory')} na směnu (cca ${hoursPerShift} h bloky).`,
            tips,
            ctaLabel: 'Rezervovat tým pro event'
          };
        }
        function calculateSport(form) {
          const spectators = Math.max(0, Number(form.attendees_sport.value) || 0);
          const lanes = Math.max(0, Number(form.lanes_sport.value) || 0);
          const gates = Math.max(0, Number(form.gates_sport.value) || 0);
          const risk = parseFloat(form.risk_sport.value) || 1;
          const guestSector = form.guest_sector && form.guest_sector.checked;
          const duration = Math.max(1, Number(form.duration_sport.value) || 4);
          const zones = Math.max(0, Number(form.zones_sport.value) || 0);
          const parking = form.parking_sport && form.parking_sport.checked;
          const vip = form.vip_sport && form.vip_sport.checked;
          const outdoor = form.outdoor_sport && form.outdoor_sport.checked;
          const night = form.night_sport && form.night_sport.checked;

          let ratio;
          if (spectators <= 1000) {
            ratio = risk === 1 ? 90 : risk === 1.5 ? 60 : 40;
          } else if (spectators <= 10000) {
            ratio = risk === 1 ? 110 : risk === 1.5 ? 75 : 50;
          } else {
            ratio = risk === 1 ? 160 : risk === 1.5 ? 110 : 70;
          }

          let base = spectators / Math.max(1, ratio);
          base += gates;
          base += lanes;
          base += zones * 1.8;
          if (parking) base += 2;
          if (vip) base += 2;
          if (guestSector) base += 4;
          if (outdoor) base *= 1.05;
          if (night) base *= 1.12;

          const stewards = Math.max(6, Math.ceil(base));
          const supervisors = Math.max(1, Math.ceil(stewards / 10));
          const perShift = stewards + supervisors;
          const shiftCount = Math.max(1, Math.ceil(duration / 12));
          const hoursPerShift = Math.max(2, Math.round((duration / shiftCount) * 2) / 2);
          const totalStaff = perShift * shiftCount;
          const shiftsLabel = `${shiftCount} ${pluralize(shiftCount, 'směna', 'směny', 'směn')} · ${duration} h / 12 h bloky`;

          const coverage = `${stewards} ${pluralize(stewards, 'pořadatel', 'pořadatelé', 'pořadatelů')} + ${supervisors} ${pluralize(supervisors, 'supervizor', 'supervizoři', 'supervizorů')} na směnu.`;
          const detail = `Riziko ${risk === 1 ? 'běžné' : risk === 1.5 ? 'derby' : 'vysoké'}${guestSector ? ', oddělený sektor hostů' : ''}${vip ? ', VIP zóna' : ''}${outdoor ? ', venkovní' : ''}${night ? ', noční' : ''}.`;

          const tips = [];
          if (guestSector) tips.push('Vyhraďte samostatnou kontrolní bránu pro hostující fanoušky.');
          if (vip) tips.push('VIP tribuny obslouží dedikovaná dvojice pořadatelů a concierge.');
          if (night) tips.push('Noční utkání posilujte o osvětlené koridory a mobilní hlídky.');
          if (!parking) tips.push('Zvažte dohled nad parkovištěm pro hladký příjezd a odjezd fanoušků.');

          const summaryTeamValue = `${perShift} ${pluralize(perShift, 'osoba', 'osoby', 'osob')}`;
          const totalLabel = `${totalStaff} ${pluralize(totalStaff, 'osoba', 'osoby', 'osob')}`;

          return {
            teamHeadline: `${perShift} členů týmu na směnu`,
            summaryTeam: summaryTeamValue,
            shiftsLabel,
            totalLabel,
            coverage,
            detail: `${SERVICE_CONFIG.sport.label}: ${detail}`,
            narrative: `Utkání pro ${formatNumber(spectators)} diváků pokryje ${shiftCount} ${pluralize(shiftCount, 'směna', 'směny', 'směn')} s ${stewards} pořadateli a ${supervisors} ${pluralize(supervisors, 'supervizorem', 'supervizory', 'supervizory')} na směnu.`,
            tips,
            ctaLabel: 'Naplánovat zabezpečení utkání'
          };
        }
        function calculateClub(form) {
          const capacity = Math.max(0, Number(form.club_capacity.value) || 0);
          const entrances = Math.max(1, Number(form.entrances_club.value) || 1);
          const risk = parseFloat(form.risk_club.value) || 1;

          let ratio;
          if (risk <= 1) ratio = 75;
          else if (risk <= 1.3) ratio = 55;
          else ratio = 40;

          let base = capacity / ratio;
          base += entrances * 0.6;
          if (capacity > 300) base += 1;
          if (capacity > 600) base += 1;

          const guards = Math.max(2, Math.ceil(base));
          const supervisors = Math.max(1, Math.ceil(guards / 5));
          const perShift = guards + supervisors;
          const shiftCount = 1;
          const shiftsLabel = `1 směna · do 12 h`;
          const totalStaff = perShift * shiftCount;

          const coverage = `Kapacita ${formatNumber(capacity)} hostů, ${entrances} ${pluralize(entrances, 'vstup', 'vstupy', 'vstupů')}, ${perShift} ${pluralize(perShift, 'člen', 'členi', 'členů')} na směnu.`;
          const detail = `Riziko lokality ${risk === 1 ? 'nízké' : risk === 1.3 ? 'střední' : 'vysoké'}, důraz na vstupní filtr a patrolu uvnitř.`;

          const tips = [];
          if (capacity > 400) tips.push('Přidejte vnitřní patrolu pro taneční parket a toalety.');
          if (entrances > 1) tips.push('Dedikujte člena na každý vstup kvůli kontrolám ID a VIP hostům.');
          tips.push('Naplánujte závěrečný sweep a doprovod hostů při uzavírání provozu.');

          const summaryTeamValue = `${perShift} ${pluralize(perShift, 'osoba', 'osoby', 'osob')}`;
          const totalLabel = `${totalStaff} ${pluralize(totalStaff, 'osoba', 'osoby', 'osob')}`;

          return {
            teamHeadline: `${perShift} ${pluralize(perShift, 'člen', 'členi', 'členů')} ostrahy na směnu`,
            summaryTeam: summaryTeamValue,
            shiftsLabel,
            totalLabel,
            coverage,
            detail: `${SERVICE_CONFIG.club.label}: ${detail}`,
            narrative: `Noční provoz s kapacitou ${formatNumber(capacity)} osob vyžaduje ${perShift} člen${perShift > 1 ? 'y' : 'a'} na směnu včetně ${supervisors} ${pluralize(supervisors, 'supervizora', 'supervizory', 'supervizorů')}.`,
            tips,
            ctaLabel: 'Domluvit ochranu podniku'
          };
        }
        function updateSummary(result, config) {
          if (!result || !config) return;
          summaryTitle.textContent = config.summaryTitle;
          summaryDescription.textContent = config.description;
          summaryTeam.textContent = result.summaryTeam || result.teamHeadline;
          summaryShifts.textContent = result.shiftsLabel || '–';
          summaryTotal.textContent = result.totalLabel || '–';
          summaryCoverage.textContent = result.coverage || '–';
          summaryFootnote.textContent = config.footnote;
          if (summaryIcon) {
            summaryIcon.innerHTML = config.icon;
          }
          if (summaryCard) {
            summaryCard.setAttribute('data-service', currentService);
          }
          renderTips(result.tips, config.defaultTips);
        }

        function updateOutput(result) {
          if (!result) return;
          const teamMetric = result.summaryTeam || result.teamHeadline;
          const shiftMetric = result.shiftsLabel || '–';
          const totalMetric = result.totalLabel || '–';
          outputEl.innerHTML = `
            <div class="output-header">
              <h4>Orientační návrh</h4>
              <p class="output-headline">${result.teamHeadline}</p>
            </div>
            <ul class="output-metrics">
              <li><span>Na směnu</span><strong>${teamMetric}</strong></li>
              <li><span>Směny</span><strong>${shiftMetric}</strong></li>
              <li><span>Minimum osob</span><strong>${totalMetric}</strong></li>
            </ul>
            <p class="output-coverage">${result.coverage}</p>
            <p class="output-narrative">${result.narrative}</p>
          `;
          const ctaLabel = result.ctaLabel || 'Poptat službu';
          if (estimatorCtaBtn) estimatorCtaBtn.textContent = ctaLabel;
          if (summaryCtaShortcut) summaryCtaShortcut.textContent = ctaLabel;
        }

        function handleCalculationError(error) {
          console.error('Calculation error:', error);
          outputEl.innerHTML = '<p class="output-error">Nepodařilo se vytvořit odhad. Zkuste prosím upravit vstupy.</p>';
          summaryTeam.textContent = '–';
          summaryShifts.textContent = '–';
          summaryTotal.textContent = '–';
          summaryCoverage.textContent = '–';
          renderTips(null, null);
        }

        function calculateEstimate() {
          const service = currentService;
          const config = SERVICE_CONFIG[service];
          if (!config) return;

          let result;
          try {
            switch (service) {
              case 'object':
                result = calculateObject(estimatorForm);
                break;
              case 'vip':
                result = calculateVip(estimatorForm);
                break;
              case 'event':
                result = calculateEvent(estimatorForm);
                break;
              case 'sport':
                result = calculateSport(estimatorForm);
                break;
              case 'club':
                result = calculateClub(estimatorForm);
                break;
              default:
                result = null;
            }
          } catch (error) {
            handleCalculationError(error);
            return;
          }

          if (!result) return;

          updateSummary(result, config);
          updateOutput(result);

          const estimateParts = [result.teamHeadline, result.shiftsLabel, result.totalLabel].filter(Boolean);
          lastEstimate = `${config.label}: ${estimateParts.join(' • ')}`;
          lastEstimateDetail = result.detail || result.narrative;

          if (ctaDisplay && lastEstimate) {
            ctaDisplay.textContent = lastEstimate;
            ctaDisplay.hidden = false;
          }

          animateOutput();
        }

        function updateCTAEstimateDisplay() {
          if (!lastEstimate) {
            if (ctaDisplay) ctaDisplay.hidden = true;
            return;
          }
          if (ctaEstimateField) {
            ctaEstimateField.value = lastEstimate;
          }
          if (ctaDetailsField) {
            ctaDetailsField.value = lastEstimateDetail || '';
          }
          if (ctaDisplay) {
            ctaDisplay.textContent = lastEstimate;
            ctaDisplay.hidden = false;
          }
          if (ctaServiceSelect && serviceMap[currentService]) {
            ctaServiceSelect.value = serviceMap[currentService];
          }
        }

        function activateService(serviceKey) {
          if (!SERVICE_CONFIG[serviceKey]) return;
          currentService = serviceKey;
          if (serviceTypeSelect.value !== serviceKey) {
            serviceTypeSelect.value = serviceKey;
          }
          estimatorForm.querySelectorAll('.estimator-fields-group').forEach(group => {
            const isActive = group.dataset.service === serviceKey;
            group.classList.toggle('active', isActive);
            group.hidden = !isActive;
            group.setAttribute('aria-hidden', String(!isActive));
          });
          servicePills.forEach(pill => {
            const match = pill.dataset.servicePill === serviceKey;
            pill.classList.toggle('active', match);
            pill.setAttribute('aria-selected', String(match));
            pill.setAttribute('tabindex', match ? '0' : '-1');
          });
          if (estimatorStage) {
            const activePill = document.querySelector(`[data-service-pill="${serviceKey}"]`);
            const bg = activePill && activePill.dataset.bg;
            if (bg) {
              estimatorStage.style.setProperty('--estimator-context-bg', `url(${bg})`);
              estimatorStage.classList.add('has-context');
            } else {
              estimatorStage.classList.remove('has-context');
              estimatorStage.style.removeProperty('--estimator-context-bg');
            }
          }
          const config = SERVICE_CONFIG[serviceKey];
          if (config && summaryIcon) {
            summaryIcon.innerHTML = config.icon;
          }
          calculateEstimate();
        }

        serviceTypeSelect.addEventListener('change', () => {
          activateService(serviceTypeSelect.value);
        });

        servicePills.forEach((pill, index) => {
          pill.addEventListener('click', () => {
            activateService(pill.dataset.servicePill);
            pill.focus();
          });
          pill.addEventListener('keydown', (event) => {
            const { key } = event;
            if (!['ArrowRight', 'ArrowLeft', 'Home', 'End'].includes(key)) return;
            event.preventDefault();
            let newIndex = index;
            if (key === 'ArrowRight') newIndex = (index + 1) % servicePills.length;
            if (key === 'ArrowLeft') newIndex = (index - 1 + servicePills.length) % servicePills.length;
            if (key === 'Home') newIndex = 0;
            if (key === 'End') newIndex = servicePills.length - 1;
            servicePills[newIndex].focus();
            activateService(servicePills[newIndex].dataset.servicePill);
          });
        });

        const handleFieldChange = () => {
          window.requestAnimationFrame(calculateEstimate);
        };

        estimatorForm.querySelectorAll('input, select').forEach(el => {
          el.addEventListener('input', handleFieldChange);
          el.addEventListener('change', handleFieldChange);
        });

        if (summaryReset) {
          summaryReset.addEventListener('click', (event) => {
            event.preventDefault();
            const activeService = currentService;
            estimatorForm.reset();
            requestAnimationFrame(() => {
              activateService(activeService);
            });
          });
        }

        [estimatorCtaBtn, summaryCtaShortcut].forEach(btn => {
          if (!btn) return;
          btn.addEventListener('click', () => {
            updateCTAEstimateDisplay();
          });
        });

        activateService(currentService);

        // --- Info popover toggle ---
        document.querySelectorAll('.info-icon-wrapper').forEach(wrapper => {
          wrapper.addEventListener('click', (e) => {
            e.stopPropagation();
            const popover = wrapper.querySelector('.info-icon-popover');
            if (!popover) return;
            document.querySelectorAll('.info-icon-popover.visible').forEach(p => {
              if (p !== popover) p.classList.remove('visible');
            });
            popover.classList.toggle('visible');
          });
        });
        document.querySelectorAll('.info-icon-popover .close-popover').forEach(btn => {
          btn.addEventListener('click', (e) => {
            e.stopPropagation();
            btn.closest('.info-icon-popover').classList.remove('visible');
          });
        });
        document.addEventListener('click', (e) => {
          document.querySelectorAll('.info-icon-popover.visible').forEach(p => {
            const wrapper = p.parentElement;
            if (!p.contains(e.target) && !wrapper.contains(e.target)) {
              p.classList.remove('visible');
            }
          });
        });

        document.querySelectorAll('.info-small-icon').forEach(icon => {
          icon.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            const popover = icon.querySelector('.info-small-popover');
            if (!popover) return;
            document.querySelectorAll('.info-small-popover.visible').forEach(p => {
              if (p !== popover) p.classList.remove('visible');
            });
            popover.classList.toggle('visible');
          });
        });
        document.querySelectorAll('.info-small-popover .close-popover').forEach(btn => {
          btn.addEventListener('click', (e) => {
            e.stopPropagation();
            btn.closest('.info-small-popover').classList.remove('visible');
          });
        });
        document.addEventListener('click', (e) => {
          document.querySelectorAll('.info-small-popover.visible').forEach(p => {
            const icon = p.parentElement;
            if (!p.contains(e.target) && !icon.contains(e.target)) {
              p.classList.remove('visible');
            }
          });
        });
      }
      // --- AJAX Form Submission ---
      const allForms = document.querySelectorAll('form[action*="formspree.io"]');
      const successOverlay = document.getElementById('form-success-overlay');
      const closeSuccessOverlayBtn = document.getElementById('form-success-close');

      async function handleFormSubmit(event) {
          event.preventDefault();
          const form = event.target;
          const data = new FormData(form);
          const submitButton = form.querySelector('button[type="submit"]');
          const originalButtonText = submitButton.textContent;

          submitButton.textContent = 'Odesílám...';
          submitButton.disabled = true;

          try {
              const response = await fetch(form.action, {
                  method: form.method,
                  body: data,
                  headers: { 'Accept': 'application/json' }
              });

              if (response.ok) {
                  form.reset();
                  if (form.id === 'quick-form') {
                      document.getElementById('quick-form').classList.add('collapsed');
                      document.getElementById('quick-toggle').setAttribute('aria-expanded', 'false');
                  }
                  if (form.id === 'cta-form') {
                      document.querySelector('.cta-step--1').hidden = false;
                      document.querySelector('.cta-step--2').hidden = true;
                  }
                  successOverlay.classList.add('visible');
                  submitButton.textContent = originalButtonText;
                  submitButton.disabled = false;
              } else {
                  const responseData = await response.json();
                  console.error('Form submission error:', responseData);
                  submitButton.textContent = 'Chyba, zkuste znovu';
                  setTimeout(() => {
                      submitButton.textContent = originalButtonText;
                      submitButton.disabled = false;
                  }, 3000);
              }
          } catch (error) {
              console.error('Network or other error:', error);
              submitButton.textContent = 'Chyba sítě';
              setTimeout(() => {
                  submitButton.textContent = originalButtonText;
                  submitButton.disabled = false;
              }, 3000);
          }
      }

      allForms.forEach(form => {
          form.addEventListener('submit', handleFormSubmit);
      });

      function closeSuccessOverlay() {
          successOverlay.classList.remove('visible');
      }

      closeSuccessOverlayBtn.addEventListener('click', closeSuccessOverlay);
      successOverlay.addEventListener('click', (e) => {
          if (e.target === successOverlay) {
              closeSuccessOverlay();
          }
      });
      document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && successOverlay.classList.contains('visible')) {
              closeSuccessOverlay();
          }
      });


      // --- CTA 2-step form ---
      const next=document.getElementById('cta-next'), prev=document.getElementById('cta-prev');if(next && prev){
        const s1=document.querySelector('.cta-step--1'), s2=document.querySelector('.cta-step--2');
        next.addEventListener('click',()=>{ s1.hidden=true; s2.hidden=false; });
        prev.addEventListener('click',()=>{ s2.hidden=true; s1.hidden=false; });
      }

      // --- Team Modal Logic ---
      const teamData = {
        '1': { name: 'Tomáš Hozák', role: 'Jednatel & Majitel', img: 'https://bravion.cz/wp-content/uploads/2025/08/d9fd1e7a-056d-493d-bea8-af7a2165f87a-e1758974869670.jpg', bio: 'Bravion vznikl, protože v bezpečnosti rozhodují detaily a odpovědnost. Chtěli jsme službu, která plánuje, vede a vyhodnocuje bez mezer – a klient přesně ví, kdo ručí za výsledek.', motto: '“Bezpečnost není produkt, je to proces. A my ho dotahujeme k dokonalosti.”' },
        '2': { name: 'David Hudák', role: 'Provozní Supervizor', img: 'https://scontent.fprg4-1.fna.fbcdn.net/v/t1.6435-9/33806402_1642514525786041_309828400883695616_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=833d8c&_nc_ohc=9_EABP33xyMQ7kNvwGI49gk&_nc_oc=Adk81HCh0zp9qMJsIfb69kd6Ed3koBWvNngWhug9gUl6PC09BIs-HM2Nk9Q1tjK1SC0&_nc_zt=23&_nc_ht=scontent.fprg4-1.fna&_nc_gid=Eo3UpTv6jOEPWLlPbEzAVA&oh=00_AfbfhzTT0KKddfKVSJvkDcUh_j6XO7KrvX2DHjG5wlK29w&oe=68FF43C1', bio: 'David je profesionální zápasník, který se naučil zvládat tlak i v těch nejnáročnějších situacích. Díky tomu je přirozeně trénovaný k deeskalaci konfliktů a dokáže udržet klid tam, kde by ostatní ztráceli nervy.', motto: '“Síla není v konfliktu, ale v jeho předcházení.”' },
        '3': { name: 'Kristýna Voksová', role: 'HR Asistentka', img: 'https://scontent.fprg4-1.fna.fbcdn.net/v/t1.6435-9/118765242_4567164523324066_4486028877719179790_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=3STTIpbQrMoQ7kNvwGmK9nV&_nc_oc=AdkUySqzVJFBzKtsCLhiIVoWFPgKRyQsIYwMCB8dCSiPz4uIiPGCa0LUFYD7dKdCFBY&_nc_zt=23&_nc_ht=scontent.fprg4-1.fna&_nc_gid=EZH7SqJhsuqIegooOSvHGg&oh=00_AfYRf-YyrbXvPHrJ4AUeDIevvXhabl-1dhXTFO2cnbpZtg&oe=68FF4F58', bio: 'Kristýna vybírá a drží kvalitu našeho týmu. Díky ní má Bravion jistotu, že každý člen je prověřený a spolehlivý.', motto: '“Nejsilnějším článkem bezpečnosti je kvalitní a spokojený člověk.”' }
      };

      const modalOverlay = document.getElementById('team-modal-overlay');
      const modalCloseBtn = document.getElementById('team-modal-close');
      const modal = { img: document.getElementById('modal-img'), name: document.getElementById('modal-name'), role: document.getElementById('modal-role'), bio: document.getElementById('modal-bio'), motto: document.getElementById('modal-motto') };

      document.querySelectorAll('.team-member').forEach(member => {
          const openModal = () => {
              const data = teamData[member.dataset.memberId];
              modal.img.src = data.img;
              // Use a generic alt text to protect privacy of team members
              modal.img.alt = 'Portrét člena týmu';
              modal.name.textContent = data.name;
              modal.role.textContent = data.role;
              modal.bio.textContent = data.bio;
              modal.motto.textContent = data.motto;
              document.body.classList.add('modal-open');
              modalOverlay.classList.add('visible');
          };
          member.addEventListener('click', openModal);
          member.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openModal(); } });
      });

      const closeModal = () => {
          document.body.classList.remove('modal-open');
          modalOverlay.classList.remove('visible');
      };
      modalCloseBtn.addEventListener('click', closeModal);
      modalOverlay.addEventListener('click', (e) => { if (e.target === modalOverlay) closeModal(); });
      
      const focusSelectors='button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])';
      modalOverlay.addEventListener('keydown',e=>{ if(e.key==='Escape') closeModal(); });
      
      const trapFocus=()=>{
        const focusables=modalOverlay.querySelectorAll(focusSelectors);
        const first=focusables[0], last=focusables[focusables.length-1];
        modalOverlay.addEventListener('keydown',e=>{
          if(e.key!=='Tab') return;
          if(e.shiftKey && document.activeElement===first){e.preventDefault();last.focus();}
          else if(!e.shiftKey && document.activeElement===last){e.preventDefault();first.focus();}
        });
      };
      modalOverlay.addEventListener('transitionend',()=>{ if(modalOverlay.classList.contains('visible')){ trapFocus(); modalCloseBtn.focus(); }});

      // --- Lightbox Logic ---
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = lightbox.querySelector('img');
      document.querySelectorAll('.gallery-item').forEach(item => {
          item.addEventListener('click', () => {
              lightboxImg.src = item.querySelector('img').src;
              lightbox.classList.add('visible');
          });
      });

      const closeLightbox = () => lightbox.classList.remove('visible');
      lightbox.addEventListener('click', (e) => { if (e.target === lightbox || e.target.matches('.lightbox-close')) closeLightbox(); });
      document.addEventListener('keydown', (e) => { 
        if (e.key === 'Escape' && lightbox.classList.contains('visible')) closeLightbox();
      });


      function initAnimations() {
        // Respect user preference for reduced motion. If the user has requested reduced motion,
        // skip running heavy animations entirely. This helps users who experience discomfort
        // with excessive animations and aligns with accessibility best practices.
        try {
          if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
            return;
          }
        } catch (e) {
          // If matchMedia is not supported, continue with animations.
        }
        
        ScrollTrigger.create({
            trigger: '#hero', start: 'bottom center',
            onEnter: () => document.getElementById('sticky-cta').classList.add('visible'),
            onLeaveBack: () => document.getElementById('sticky-cta').classList.remove('visible')
        });

        gsap.to("#scroll-progress", { scaleX: 1, ease: "none", scrollTrigger: { scrub: 0.3 } });

        const aura = document.getElementById('cursor-aura');
        window.addEventListener('mousemove', e => gsap.to(aura, { x: e.clientX, y: e.clientY, duration: 0.5, ease: 'power2.out' }));

        gsap.utils.toArray('[data-magnetic]').forEach(el => {
            const xTo = gsap.quickTo(el, "x", { duration: 1, ease: "elastic.out(1, 0.3)" });
            const yTo = gsap.quickTo(el, "y", { duration: 1, ease: "elastic.out(1, 0.3)" });
            el.addEventListener("mousemove", e => {
                const { clientX, clientY } = e, { height, width, left, top } = el.getBoundingClientRect();
                xTo((clientX - (left + width / 2)) * 0.3);
                yTo((clientY - (top + height / 2)) * 0.3);
            });
            el.addEventListener("mouseleave", () => { xTo(0); yTo(0); });
        });
        
        const statsBg = document.querySelector('.stats-bg-animated');
        let particles = '';
        for(let i=0; i<30; i++) particles += `<circle cx="${Math.random()*100}%" cy="${Math.random()*100}%" r="${Math.random()*1.5+0.5}" fill="var(--brand-accent)" opacity="0.3" />`;
        statsBg.innerHTML = particles;
        gsap.utils.toArray('.stats-bg-animated circle').forEach(c => gsap.to(c, { y:gsap.utils.random(-20,20), x:gsap.utils.random(-20,20), duration:gsap.utils.random(3,6), ease:'sine.inOut', repeat:-1, yoyo:true, }));

        const path = document.getElementById('process-line-path');
        if (path) {
          const len = path.getTotalLength();
          path.style.strokeDasharray = `${len}`;
          path.style.strokeDashoffset = `${len}`;
          ScrollTrigger.create({
            trigger: "#process", start: "top 200%", end: "bottom top", scrub: 1,
            onUpdate: self => path.style.strokeDashoffset = `${(1 - self.progress) * len}`
          });
        }
        
        gsap.to('.about-image', { yPercent: -10, ease: 'none', scrollTrigger: { trigger: '.about-grid', start: 'top bottom', end: 'bottom top', scrub: true } });
        
        gsap.to("#hero-bg-img", { scrollTrigger: { trigger: "#hero", start: "top top", end: "bottom top", scrub: true }, scale: 1.2 });
        
        document.querySelectorAll('[data-tilt]').forEach(el => {
          el.addEventListener('mousemove', (e) => {
            const { left, top, width, height } = el.getBoundingClientRect();
            gsap.to(el, { duration: 0.8, rotationY: ((e.clientX - left) / width - 0.5) * 15, rotationX: -((e.clientY - top) / height - 0.5) * 15, transformPerspective: 500, ease: "power2.out" });
          });
          el.addEventListener('mouseleave', () => gsap.to(el, { duration: 1.2, rotationY: 0, rotationX: 0, ease: "elastic.out(1, 0.3)" }));
        });
        
        gsap.utils.toArray('[data-animate-text]').forEach(el => {
            const split = new SplitType(el, { types: 'chars, words' });
            gsap.from(split.chars, { y: '100%', opacity: 0, duration: 0.6, ease: 'power2.out', stagger: 0.03, scrollTrigger: { trigger: el, start: 'top 200%', toggleActions: 'play none none none' } });
        });

        gsap.utils.toArray('.section-header p, .about-text p, .about-values, .cta-content p, .section-transition').forEach(el => {
          let props = el.classList.contains('section-transition') ? { y: -50, duration: 1.5 } : { y: 50, duration: 1.2 };
          gsap.from(el, { scrollTrigger: { trigger: el, start: 'top 200%', toggleActions: 'play none none none' }, opacity: 0, ease: 'power3.out', ...props });
        });

        gsap.utils.toArray('.clients-grid > *, .services-grid > *, .process-steps > *, .team-grid > *, .stats-grid > *, .testimonials-grid > *, .gallery-grid > *').forEach((el, i, arr) => {
            gsap.from(el, {
                scrollTrigger: { trigger: el, start: 'top 200%', toggleActions: 'play none none none' },
                opacity: 0, y: 50, duration: 1, ease: 'power3.out', delay: (i % 4) * 0.1
            });
        });

        gsap.utils.toArray('.stat-number').forEach(el => {
          const target = parseInt(el.dataset.target, 10);
          ScrollTrigger.create({
            trigger: el, start: "top 90%", once: true,
            onEnter: () => gsap.to(el, { textContent: target, duration: 1.2, ease: "power1.inOut", snap: { textContent: 1 }})
          });
        });

        gsap.utils.toArray('.animated-icon').forEach(icon => gsap.fromTo(icon, { rotate: -5 }, { rotate: 5, duration: 2, ease: 'sine.inOut', repeat: -1, yoyo: true }));
      }
    });
  </script>
</body>
</html>
